import{b as mc,c as yc,f as fg,g as vc}from"./chunk-SZXJF6TW.js";import{a as qn,b as Wn,d as cg,e as vt,f as lg,g as dg,h as wt,i as p}from"./chunk-P2VZOJAX.js";var It={};lg(It,{__addDisposableResource:()=>Wc,__assign:()=>Br,__asyncDelegator:()=>jc,__asyncGenerator:()=>Wr,__asyncValues:()=>Gr,__await:()=>ke,__awaiter:()=>w,__classPrivateFieldGet:()=>Bc,__classPrivateFieldIn:()=>qc,__classPrivateFieldSet:()=>Hc,__createBinding:()=>qr,__decorate:()=>Tc,__disposeResources:()=>Gc,__esDecorate:()=>xc,__exportStar:()=>kc,__extends:()=>Cc,__generator:()=>Rc,__importDefault:()=>Uc,__importStar:()=>Vc,__makeTemplateObject:()=>$c,__metadata:()=>Oc,__param:()=>Sc,__propKey:()=>Mc,__read:()=>is,__rest:()=>Be,__rewriteRelativeImportExtension:()=>zc,__runInitializers:()=>Ac,__setFunctionName:()=>Nc,__spread:()=>Pc,__spreadArray:()=>Lc,__spreadArrays:()=>Fc,__values:()=>Hr,default:()=>Tg});function Cc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rs(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Be(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Tc(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function Sc(t,e){return function(n,r){e(n,r,t)}}function xc(t,e,n,r,o,i){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=r.kind,u=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(v||null))};var y=(0,n[f])(a==="accessor"?{get:l.get,set:l.set}:l[u],g);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(l.get=d),(d=s(y.set))&&(l.set=d),(d=s(y.init))&&o.unshift(d)}else(d=s(y))&&(a==="field"?o.unshift(d):l[u]=d)}c&&Object.defineProperty(c,r.name,l),h=!0}function Ac(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function Mc(t){return typeof t=="symbol"?t:"".concat(t)}function Nc(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Oc(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function w(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?i(l.value):o(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function Rc(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function kc(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qr(e,t,n)}function Hr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function is(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Pc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(is(arguments[e]));return t}function Fc(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function Lc(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ke(t){return this instanceof ke?(this.v=t,this):new ke(t)}function Wr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(m){return new Promise(function(y,v){i.push([f,m,y,v])>1||u(f,m)})},g&&(o[f]=g(o[f])))}function u(f,g){try{c(r[f](g))}catch(m){h(i[0][3],m)}}function c(f){f.value instanceof ke?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){u("next",f)}function d(f){u("throw",f)}function h(f,g){f(g),i.shift(),i.length&&u(i[0][0],i[0][1])}}function jc(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=t[o]?function(s){return(n=!n)?{value:ke(t[o](s)),done:!1}:i?i(s):s}:i}}function Gr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Hr=="function"?Hr(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,u){s=t[i](s),o(a,u,s.done,s.value)})}}function o(i,s,a,u){Promise.resolve(u).then(function(c){i({value:c,done:a})},s)}}function $c(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Vc(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=os(t),r=0;r<n.length;r++)n[r]!=="default"&&qr(e,t,n[r]);return Ig(e,t),e}function Uc(t){return t&&t.__esModule?t:{default:t}}function Bc(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Hc(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function qc(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Wc(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function Gc(t){function e(i){t.error=t.hasError?new Cg(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function zc(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,s){return r?e?".jsx":".js":o&&(!i||!s)?n:o+i+"."+s.toLowerCase()+"js"}):t}var rs,Br,qr,Ig,os,Cg,Tg,B=cg(()=>{"use strict";rs=function(t,e){return rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},rs(t,e)};Br=function(){return Br=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Br.apply(this,arguments)};qr=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};Ig=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},os=function(t){return os=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},os(t)};Cg=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};Tg={__extends:Cc,__assign:Br,__rest:Be,__decorate:Tc,__param:Sc,__esDecorate:xc,__runInitializers:Ac,__propKey:Mc,__setFunctionName:Nc,__metadata:Oc,__awaiter:w,__generator:Rc,__createBinding:qr,__exportStar:kc,__values:Hr,__read:is,__spread:Pc,__spreadArrays:Fc,__spreadArray:Lc,__await:ke,__asyncGenerator:Wr,__asyncDelegator:jc,__asyncValues:Gr,__makeTemplateObject:$c,__importStar:Vc,__importDefault:Uc,__classPrivateFieldGet:Bc,__classPrivateFieldSet:Hc,__classPrivateFieldIn:qc,__addDisposableResource:Wc,__disposeResources:Gc,__rewriteRelativeImportExtension:zc}});var ku=vt(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});var Ou=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ru.default=Ou});var Lu=vt(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});var Gh=(B(),wt(It)),Ub=Gh.__importDefault((vc(),wt(fg))),Bb=Gh.__importDefault(ku()),Pu=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ub.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,u,c;let l=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){let S=yield i.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=S:d=JSON.parse(S))}let y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let y=yield i.text();try{l=JSON.parse(y),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,g="OK")}catch{i.status===404&&y===""?(f=204,g="No Content"):l={message:y}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,f=200,g="OK"),l&&this.shouldThrowOnError)throw new Bb.default(l)}return{error:l,data:d,count:h,status:f,statusText:g}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,u;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i?.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Fu.default=Pu});var Vu=vt($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var Hb=(B(),wt(It)),qb=Hb.__importDefault(Lu()),ju=class extends qb.default{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let u=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};$u.default=ju});var mi=vt(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});var Wb=(B(),wt(It)),Gb=Wb.__importDefault(Vu()),zb=new RegExp("[,()]"),Uu=class extends Gb.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&zb.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Bu.default=Uu});var Wu=vt(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});var Kb=(B(),wt(It)),_r=Kb.__importDefault(mi()),Hu=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new _r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(s.length>0){let a=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new _r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let u=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(u.length>0){let c=[...new Set(u)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new _r.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new _r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new _r.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};qu.default=Hu});var Kh=vt(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var zh=(B(),wt(It)),Yb=zh.__importDefault(Wu()),Jb=zh.__importDefault(mi()),Gu=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new Yb.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,u=new URL(`${this.url}/rpc/${e}`),c;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{u.searchParams.append(d,h)})):(a="POST",c=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new Jb.default({method:a,url:u,headers:l,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};zu.default=Gu});var tp=vt(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.PostgrestError=ue.PostgrestBuilder=ue.PostgrestTransformBuilder=ue.PostgrestFilterBuilder=ue.PostgrestQueryBuilder=ue.PostgrestClient=void 0;var On=(B(),wt(It)),Yh=On.__importDefault(Kh());ue.PostgrestClient=Yh.default;var Jh=On.__importDefault(Wu());ue.PostgrestQueryBuilder=Jh.default;var Qh=On.__importDefault(mi());ue.PostgrestFilterBuilder=Qh.default;var Zh=On.__importDefault(Vu());ue.PostgrestTransformBuilder=Zh.default;var Xh=On.__importDefault(Lu());ue.PostgrestBuilder=Xh.default;var ep=On.__importDefault(ku());ue.PostgrestError=ep.default;ue.default={PostgrestClient:Yh.default,PostgrestQueryBuilder:Jh.default,PostgrestFilterBuilder:Qh.default,PostgrestTransformBuilder:Zh.default,PostgrestBuilder:Xh.default,PostgrestError:ep.default}});function D(t){return typeof t=="function"}function on(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Lr=on(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function _t(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(D(r))try{r()}catch(i){e=i instanceof Lr?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{wc(i)}catch(s){e=e??[],s instanceof Lr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wc(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_t(n,e)}remove(e){let{_finalizers:n}=this;n&&_t(n,e),e instanceof t&&e._removeParent(this)}};Q.EMPTY=(()=>{let t=new Q;return t.closed=!0,t})();var Qi=Q.EMPTY;function jr(t){return t instanceof Q||t&&"closed"in t&&D(t.remove)&&D(t.add)&&D(t.unsubscribe)}function wc(t){D(t)?t():t.unsubscribe()}var Ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var sn={setTimeout(t,e,...n){let{delegate:r}=sn;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=sn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $r(t){sn.setTimeout(()=>{let{onUnhandledError:e}=Ce;if(e)e(t);else throw t})}function Et(){}var _c=Zi("C",void 0,void 0);function Ec(t){return Zi("E",void 0,t)}function bc(t){return Zi("N",t,void 0)}function Zi(t,e,n){return{kind:t,value:e,error:n}}var bt=null;function an(t){if(Ce.useDeprecatedSynchronousErrorHandling){let e=!bt;if(e&&(bt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=bt;if(bt=null,n)throw r}}else t()}function Dc(t){Ce.useDeprecatedSynchronousErrorHandling&&bt&&(bt.errorThrown=!0,bt.error=t)}var Dt=class extends Q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jr(e)&&e.add(this)):this.destination=gg}static create(e,n,r){return new un(e,n,r)}next(e){this.isStopped?es(bc(e),this):this._next(e)}error(e){this.isStopped?es(Ec(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?es(_c,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hg=Function.prototype.bind;function Xi(t,e){return hg.call(t,e)}var ts=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vr(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vr(r)}else Vr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vr(n)}}},un=class extends Dt{constructor(e,n,r){super();let o;if(D(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ce.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Xi(e.next,i),error:e.error&&Xi(e.error,i),complete:e.complete&&Xi(e.complete,i)}):o=e}this.destination=new ts(o)}};function Vr(t){Ce.useDeprecatedSynchronousErrorHandling?Dc(t):$r(t)}function pg(t){throw t}function es(t,e){let{onStoppedNotification:n}=Ce;n&&sn.setTimeout(()=>n(t,e))}var gg={closed:!0,next:Et,error:pg,complete:Et};var cn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function X(t){return t}function mg(...t){return ns(t)}function ns(t){return t.length===0?X:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var O=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=vg(n)?n:new un(n,r,o);return an(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ic(r),new r((o,i)=>{let s=new un({next:a=>{try{n(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[cn](){return this}pipe(...n){return ns(n)(this)}toPromise(n){return n=Ic(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Ic(t){var e;return(e=t??Ce.Promise)!==null&&e!==void 0?e:Promise}function yg(t){return t&&D(t.next)&&D(t.error)&&D(t.complete)}function vg(t){return t&&t instanceof Dt||yg(t)&&jr(t)}var{isArray:wg}=Array,{getPrototypeOf:_g,prototype:Eg,keys:bg}=Object;function Ur(t){if(t.length===1){let e=t[0];if(wg(e))return{args:e,keys:null};if(Dg(e)){let n=bg(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Dg(t){return t&&typeof t=="object"&&_g(t)===Eg}B();var ln=t=>t&&typeof t.length=="number"&&typeof t!="function";function zr(t){return D(t?.then)}function Kr(t){return D(t[cn])}function Yr(t){return Symbol.asyncIterator&&D(t?.[Symbol.asyncIterator])}function Jr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Sg(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qr=Sg();function Zr(t){return D(t?.[Qr])}B();function Xr(t){return Wr(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield ke(n.read());if(o)return yield ke(void 0);yield yield ke(r)}}finally{n.releaseLock()}})}function eo(t){return D(t?.getReader)}function j(t){if(t instanceof O)return t;if(t!=null){if(Kr(t))return xg(t);if(ln(t))return Ag(t);if(zr(t))return Mg(t);if(Yr(t))return Kc(t);if(Zr(t))return Ng(t);if(eo(t))return Og(t)}throw Jr(t)}function xg(t){return new O(e=>{let n=t[cn]();if(D(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ag(t){return new O(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Mg(t){return new O(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$r)})}function Ng(t){return new O(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Kc(t){return new O(e=>{Rg(t,e).catch(n=>e.error(n))})}function Og(t){return Kc(Xr(t))}function Rg(t,e){var n,r,o,i;return w(this,void 0,void 0,function*(){try{for(n=Gr(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function le(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function ss(t){return D(t?.lift)}function M(t){return e=>{if(ss(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function C(t,e,n,r,o){return new as(t,e,n,r,o)}var as=class extends Dt{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function to(t,e=0){return M((n,r)=>{n.subscribe(C(r,o=>le(r,t,()=>r.next(o),e),()=>le(r,t,()=>r.complete(),e),o=>le(r,t,()=>r.error(o),e)))})}function no(t,e=0){return M((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Yc(t,e){return j(t).pipe(no(e),to(e))}function Jc(t,e){return j(t).pipe(no(e),to(e))}function Qc(t,e){return new O(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Zc(t,e){return new O(n=>{let r;return le(n,e,()=>{r=t[Qr](),le(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>D(r?.return)&&r.return()})}function ro(t,e){if(!t)throw new Error("Iterable cannot be null");return new O(n=>{le(n,e,()=>{let r=t[Symbol.asyncIterator]();le(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Xc(t,e){return ro(Xr(t),e)}function el(t,e){if(t!=null){if(Kr(t))return Yc(t,e);if(ln(t))return Qc(t,e);if(zr(t))return Jc(t,e);if(Yr(t))return ro(t,e);if(Zr(t))return Zc(t,e);if(eo(t))return Xc(t,e)}throw Jr(t)}function nt(t,e){return e?el(t,e):j(t)}function Pe(t,e){return M((n,r)=>{let o=0;n.subscribe(C(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:kg}=Array;function Pg(t,e){return kg(e)?t(...e):t(e)}function dn(t){return Pe(e=>Pg(t,e))}function oo(t){return t&&D(t.schedule)}function tl(t){return t[t.length-1]}function rt(t){return D(tl(t))?t.pop():void 0}function ot(t){return oo(tl(t))?t.pop():void 0}function io(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Fg(...t){let e=ot(t),n=rt(t),{args:r,keys:o}=Ur(t);if(r.length===0)return nt([],e);let i=new O(Lg(r,e,o?s=>io(o,s):X));return n?i.pipe(dn(n)):i}function Lg(t,e,n=X){return r=>{nl(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let u=0;u<o;u++)nl(e,()=>{let c=nt(t[u],e),l=!1;c.subscribe(C(r,d=>{i[u]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function nl(t,e,n){t?le(n,t,e):e()}function us(){return M((t,e)=>{let n=null;t._refCount++;let r=C(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var cs=class extends O{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ss(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Q;let n=this.getSubject();e.add(this.source.subscribe(C(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Q.EMPTY)}return e}refCount(){return us()(this)}};var rl=on(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class t extends O{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new so(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new rl}next(n){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){an(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Qi:(this.currentObservers=null,i.push(n),new Q(()=>{this.currentObservers=null,_t(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new O;return n.source=this,n}}return t.create=(e,n)=>new so(e,n),t})(),so=class extends it{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Qi}};var Gn=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ls={now(){return(ls.delegate||Date).now()},delegate:void 0};var ao=class extends Q{constructor(e,n){super()}schedule(e,n=0){return this}};var zn={setInterval(t,e,...n){let{delegate:r}=zn;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zn;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var uo=class extends ao{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return zn.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zn.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,_t(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fn=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};fn.now=ls.now;var co=class extends fn{constructor(e,n=fn.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ds=new co(uo),ol=ds;var Ct=new O(t=>t.complete());function fs(...t){let e=ot(t);return nt(t,e)}function jg(t,e){let n=D(t)?t:()=>t,r=o=>o.error(n());return new O(e?o=>e.schedule(r,0,o):r)}function $g(t){return!!t&&(t instanceof O||D(t.lift)&&D(t.subscribe))}var Tt=on(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function il(t){return t instanceof Date&&!isNaN(t)}function sl(t,e,n,r,o,i,s,a){let u=[],c=0,l=0,d=!1,h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?g(m):u.push(m),g=m=>{i&&e.next(m),c++;let y=!1;j(n(m,l++)).subscribe(C(e,v=>{o?.(v),i?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){let v=u.shift();s?le(e,s,()=>g(v)):g(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(C(e,f,()=>{d=!0,h()})),()=>{a?.()}}function He(t,e,n=1/0){return D(e)?He((r,o)=>Pe((i,s)=>e(r,i,o,s))(j(t(r,o))),n):(typeof e=="number"&&(n=e),M((r,o)=>sl(r,o,t,n)))}function hs(t=1/0){return He(X,t)}function al(){return hs(1)}function hn(...t){return al()(nt(t,ot(t)))}function Vg(t){return new O(e=>{j(t()).subscribe(e)})}function Ug(...t){let e=rt(t),{args:n,keys:r}=Ur(t),o=new O(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),u=s,c=s;for(let l=0;l<s;l++){let d=!1;j(n[l]).subscribe(C(i,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||i.next(r?io(r,a):a),i.complete())}))}});return e?o.pipe(dn(e)):o}var Bg=["addListener","removeListener"],Hg=["addEventListener","removeEventListener"],qg=["on","off"];function ps(t,e,n,r){if(D(n)&&(r=n,n=void 0),r)return ps(t,e,n).pipe(dn(r));let[o,i]=zg(t)?Hg.map(s=>a=>t[s](e,a,n)):Wg(t)?Bg.map(ul(t,e)):Gg(t)?qg.map(ul(t,e)):[];if(!o&&ln(t))return He(s=>ps(s,e,n))(j(t));if(!o)throw new TypeError("Invalid event target");return new O(s=>{let a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function ul(t,e){return n=>r=>t[n](e,r)}function Wg(t){return D(t.addListener)&&D(t.removeListener)}function Gg(t){return D(t.on)&&D(t.off)}function zg(t){return D(t.addEventListener)&&D(t.removeEventListener)}function Kg(t=0,e,n=ol){let r=-1;return e!=null&&(oo(e)?n=e:r=e),new O(o=>{let i=il(t)?+t-n.now():t;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}var{isArray:Yg}=Array;function lo(t){return t.length===1&&Yg(t[0])?t[0]:t}function Kn(t,e){return M((n,r)=>{let o=0;n.subscribe(C(r,i=>t.call(e,i,o++)&&r.next(i)))})}function Jg(...t){return t=lo(t),t.length===1?j(t[0]):new O(Qg(t))}function Qg(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(j(t[r]).subscribe(C(e,o=>{if(n){for(let i=0;i<n.length;i++)i!==r&&n[i].unsubscribe();n=null}e.next(o)})))}}function Zg(...t){let e=rt(t),n=lo(t);return n.length?new O(r=>{let o=n.map(()=>[]),i=n.map(()=>!1);r.add(()=>{o=i=null});for(let s=0;!r.closed&&s<n.length;s++)j(n[s]).subscribe(C(r,a=>{if(o[s].push(a),o.every(u=>u.length)){let u=o.map(c=>c.shift());r.next(e?e(...u):u),o.some((c,l)=>!c.length&&i[l])&&r.complete()}},()=>{i[s]=!0,!o[s].length&&r.complete()}));return()=>{o=i=null}}):Ct}function cl(t){return M((e,n)=>{let r=null,o=!1,i;r=e.subscribe(C(n,void 0,void 0,s=>{i=j(t(s,cl(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function ll(t,e,n,r,o){return(i,s)=>{let a=n,u=e,c=0;i.subscribe(C(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function Xg(t,e){return D(e)?He(t,e,1):He(t,1)}function em(t,e=ds){return M((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let c=i;i=null,r.next(c)}};function u(){let c=s+t,l=e.now();if(l<c){o=this.schedule(void 0,c-l),r.add(o);return}a()}n.subscribe(C(r,c=>{i=c,s=e.now(),o||(o=e.schedule(u,t),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function Yn(t){return M((e,n)=>{let r=!1;e.subscribe(C(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function gs(t){return t<=0?()=>Ct:M((e,n)=>{let r=0;e.subscribe(C(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function tm(t){return Pe(()=>t)}function nm(t,e=X){return t=t??rm,M((n,r)=>{let o,i=!0;n.subscribe(C(r,s=>{let a=e(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function rm(t,e){return t===e}function fo(t=om){return M((e,n)=>{let r=!1;e.subscribe(C(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function om(){return new Tt}function im(...t){return e=>hn(e,fs(...t))}function sm(t){return M((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function dl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kn((o,i)=>t(o,i,r)):X,gs(1),n?Yn(e):fo(()=>new Tt))}function ms(t){return t<=0?()=>Ct:M((e,n)=>{let r=[];e.subscribe(C(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function am(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kn((o,i)=>t(o,i,r)):X,ms(1),n?Yn(e):fo(()=>new Tt))}function um(t,e){return M(ll(t,e,arguments.length>=2,!0))}function cm(...t){let e=ot(t);return M((n,r)=>{(e?hn(t,n,e):hn(t,n)).subscribe(r)})}function lm(t,e){return M((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(C(r,u=>{o?.unsubscribe();let c=0,l=i++;j(t(u,l)).subscribe(o=C(r,d=>r.next(e?e(u,d,l,c++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function dm(t){return M((e,n)=>{j(t).subscribe(C(n,()=>n.complete(),Et)),!n.closed&&e.subscribe(n)})}function fm(t,e,n){let r=D(t)||e||n?{next:t,error:e,complete:n}:t;return r?M((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(C(i,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),i.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),i.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),i.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):X}function hm(...t){let e=rt(t);return M((n,r)=>{let o=t.length,i=new Array(o),s=t.map(()=>!1),a=!1;for(let u=0;u<o;u++)j(t[u]).subscribe(C(r,c=>{i[u]=c,!a&&!s[u]&&(s[u]=!0,(a=s.every(X))&&(s=null))},Et));n.subscribe(C(r,u=>{if(a){let c=[u,...i];r.next(e?e(...c):c)}}))})}var fl=null;var ys=1,vs=Symbol("SIGNAL");function L(t){let e=fl;return fl=t,e}var hl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pm(t){if(!(Es(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ys)){if(!t.producerMustRecompute(t)&&!ws(t)){t.dirty=!1,t.lastCleanEpoch=ys;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ys}}function pl(t){return t&&(t.nextProducerIndex=0),L(t)}function gl(t,e){if(L(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Es(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_s(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ws(t){ho(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(pm(n),r!==n.version))return!0}return!1}function ml(t){if(ho(t),Es(t))for(let e=0;e<t.producerNode.length;e++)_s(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _s(t,e){if(gm(t),ho(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)_s(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];ho(o),o.producerIndexOfThis[r]=e}}function Es(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ho(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gm(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mm(){throw new Error}var ym=mm;function yl(t){ym=t}var ed="https://g.co/ng/security#xss",F=class extends Error{constructor(e,n){super(td(e,n)),this.code=e}};function td(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ur(t){return{toString:t}.toString()}var po="__parameters__";function vm(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function nd(t,e,n){return ur(()=>{let r=vm(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(u,c,l){let d=u.hasOwnProperty(po)?u[po]:Object.defineProperty(u,po,{value:[]})[po];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var Fe=globalThis;function U(t){for(let e in t)if(t[e]===U)return e;throw Error("Could not find renamed property on target object.")}function wm(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ae(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ae).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function js(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var _m=U({__forward_ref__:U});function rd(t){return t.__forward_ref__=rd,t.toString=function(){return ae(this())},t}function se(t){return od(t)?t():t}function od(t){return typeof t=="function"&&t.hasOwnProperty(_m)&&t.__forward_ref__===rd}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function id(t){return{providers:t.providers||[],imports:t.imports||[]}}function zo(t){return vl(t,sd)||vl(t,ad)}function QA(t){return zo(t)!==null}function vl(t,e){return t.hasOwnProperty(e)?t[e]:null}function Em(t){let e=t&&(t[sd]||t[ad]);return e||null}function wl(t){return t&&(t.hasOwnProperty(_l)||t.hasOwnProperty(bm))?t[_l]:null}var sd=U({\u0275prov:U}),_l=U({\u0275inj:U}),ad=U({ngInjectableDef:U}),bm=U({ngInjectorDef:U}),q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ud(t){return t&&!!t.\u0275providers}var Dm=U({\u0275cmp:U}),Im=U({\u0275dir:U}),Cm=U({\u0275pipe:U}),Tm=U({\u0275mod:U}),Io=U({\u0275fac:U}),Jn=U({__NG_ELEMENT_ID__:U}),El=U({__NG_ENV_ID__:U});function qe(t){return typeof t=="string"?t:t==null?"":String(t)}function Sm(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():qe(t)}function xm(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new F(-200,t)}function ka(t,e){throw new F(-201,!1)}var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{}),$s;function cd(){return $s}function de(t){let e=$s;return $s=t,e}function ld(t,e,n){let r=zo(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k.Optional)return null;if(e!==void 0)return e;ka(t,"Injector")}var Am={},Qn=Am,Vs="__NG_DI_FLAG__",Co="ngTempTokenPath",Mm="ngTokenPath",Nm=/\n/gm,Om="\u0275",bl="__source",vn;function Rm(){return vn}function st(t){let e=vn;return vn=t,e}function km(t,e=k.Default){if(vn===void 0)throw new F(-203,!1);return vn===null?ld(t,void 0,e):vn.get(t,e&k.Optional?null:void 0,e)}function ne(t,e=k.Default){return(cd()||km)(se(t),e)}function $(t,e=k.Default){return ne(t,Ko(e))}function Ko(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Us(t){let e=[];for(let n=0;n<t.length;n++){let r=se(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let o,i=k.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Pm(a);typeof u=="number"?u===-1?o=a.token:i|=u:o=a}e.push(ne(o,i))}else e.push(ne(r))}return e}function dd(t,e){return t[Vs]=e,t.prototype[Vs]=e,t}function Pm(t){return t[Vs]}function Fm(t,e,n,r){let o=t[Co];throw e[bl]&&o.unshift(e[bl]),t.message=Lm(`
`+t.message,o,n,r),t[Mm]=o,t[Co]=null,t}function Lm(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Om?t.slice(2):t;let o=ae(e);if(Array.isArray(e))o=e.map(ae).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):ae(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(Nm,`
  `)}`}var jm=dd(nd("Optional"),8);var $m=dd(nd("SkipSelf"),4);function Nt(t,e){let n=t.hasOwnProperty(Io);return n?t[Io]:null}function Vm(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Um(t){return t.flat(Number.POSITIVE_INFINITY)}function Pa(t,e){t.forEach(n=>Array.isArray(n)?Pa(n,e):e(n))}function fd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function To(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Bm(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Hm(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function Yo(t,e,n){let r=cr(t,e);return r>=0?t[r|1]=n:(r=~r,Hm(t,r,e,n)),r}function bs(t,e){let n=cr(t,e);if(n>=0)return t[n|1]}function cr(t,e){return qm(t,e,1)}function qm(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var _n={},fe=[],So=new q(""),hd=new q("",-1),pd=new q(""),xo=class{get(e,n=Qn){if(n===Qn){let r=new Error(`NullInjectorError: No provider for ${ae(e)}!`);throw r.name="NullInjectorError",r}return n}},gd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gd||{}),Zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zn||{}),ut=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ut||{});function Wm(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function Bs(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];Gm(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function md(t){return t===3||t===4||t===6}function Gm(t){return t.charCodeAt(0)===64}function Xn(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Dl(t,n,o,null,e[++r]):Dl(t,n,o,null,null))}}return t}function Dl(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[i+1]=o);return}else if(r===t[i+1]){t[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r),o!==null&&t.splice(i++,0,o)}var yd="ng-template";function zm(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&Wm(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Fa(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Fa(t){return t.type===4&&t.value!==yd}function Km(t,e,n){let r=t.type===4&&!n?yd:t.value;return e===r}function Ym(t,e,n){let r=4,o=t.attrs,i=o!==null?Zm(o):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Te(r)&&!Te(u))return!1;if(s&&Te(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Km(t,u,n)||u===""&&e.length===1){if(Te(r))return!1;s=!0}}else if(r&8){if(o===null||!zm(t,o,u,n)){if(Te(r))return!1;s=!0}}else{let c=e[++a],l=Jm(u,o,Fa(t),n);if(l===-1){if(Te(r))return!1;s=!0;continue}if(c!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&c!==d){if(Te(r))return!1;s=!0}}}}return Te(r)||s}function Te(t){return(t&1)===0}function Jm(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Xm(e,t)}function vd(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ym(t,e[r],n))return!0;return!1}function Qm(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Zm(t){for(let e=0;e<t.length;e++){let n=t[e];if(md(n))return e}return t.length}function Xm(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ey(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Il(t,e){return t?":not("+e.trim()+")":e}function ty(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Te(s)&&(e+=Il(i,o),o=""),r=s,i=i||!Te(r);n++}return o!==""&&(e+=Il(i,o)),e}function ny(t){return t.map(ty).join(",")}function ry(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Te(o))break;o=i}r++}return{attrs:e,classes:n}}function ZA(t){return ur(()=>{let e=Dd(t),n=Wn(qn({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zn.Emulated,styles:t.styles||fe,_:null,schemas:t.schemas||null,tView:null,id:""});Id(n);let r=t.dependencies;return n.directiveDefs=Tl(r,!1),n.pipeDefs=Tl(r,!0),n.id=ay(n),n})}function oy(t){return We(t)||_d(t)}function iy(t){return t!==null}function wd(t){return ur(()=>({type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Cl(t,e){if(t==null)return _n;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a=ut.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(n[i]=a!==ut.None?[r,a]:r,e[i]=s):n[i]=r}return n}function Jo(t){return ur(()=>{let e=Dd(t);return Id(e),e})}function La(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function We(t){return t[Dm]||null}function _d(t){return t[Im]||null}function Ed(t){return t[Cm]||null}function sy(t){let e=We(t)||_d(t)||Ed(t);return e!==null?e.standalone:!1}function bd(t,e){let n=t[Tm]||null;if(!n&&e===!0)throw new Error(`Type ${ae(t)} does not have '\u0275mod' property.`);return n}function Dd(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_n,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cl(t.inputs,e),outputs:Cl(t.outputs),debugInfo:null}}function Id(t){t.features?.forEach(e=>e(t))}function Tl(t,e){if(!t)return null;let n=e?Ed:oy;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(iy)}function ay(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function uy(t){return{\u0275providers:t}}function cy(...t){return{\u0275providers:Cd(!0,t),\u0275fromNgModule:!0}}function Cd(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Pa(e,s=>{let a=s;Hs(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Td(o,i),n}function Td(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];ja(o,i=>{e(i,r)})}}function Hs(t,e,n,r){if(t=se(t),!t)return!1;let o=null,i=wl(t),s=!i&&We(t);if(!i&&!s){let u=t.ngModule;if(i=wl(u),i)o=u;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)Hs(c,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let c;try{Pa(i.imports,l=>{Hs(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&Td(c,e)}if(!a){let c=Nt(o)||(()=>new o);e({provide:o,useFactory:c,deps:fe},o),e({provide:pd,useValue:o,multi:!0},o),e({provide:So,useValue:()=>ne(o),multi:!0},o)}let u=i.providers;if(u!=null&&!a){let c=t;ja(u,l=>{e(l,c)})}}else return!1;return o!==t&&t.providers!==void 0}function ja(t,e){for(let n of t)ud(n)&&(n=n.\u0275providers),Array.isArray(n)?ja(n,e):e(n)}var ly=U({provide:String,useValue:U});function Sd(t){return t!==null&&typeof t=="object"&&ly in t}function dy(t){return!!(t&&t.useExisting)}function fy(t){return!!(t&&t.useFactory)}function En(t){return typeof t=="function"}function hy(t){return!!t.useClass}var xd=new q(""),vo={},py={},Ds;function Qo(){return Ds===void 0&&(Ds=new xo),Ds}var ct=class{},er=class extends ct{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ws(e,s=>this.processProvider(s)),this.records.set(hd,pn(void 0,this)),o.has("environment")&&this.records.set(ct,pn(void 0,this));let i=this.records.get(xd);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(pd,fe,k.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=L(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),L(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=st(this),r=de(void 0),o;try{return e()}finally{st(n),de(r)}}get(e,n=Qn,r=k.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(El))return e[El](this);r=Ko(r);let o,i=st(this),s=de(void 0);try{if(!(r&k.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=wy(e)&&zo(e);c&&this.injectableDefInScope(c)?u=pn(qs(e),vo):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&k.Self?Qo():this.parent;return n=r&k.Optional&&n===Qn?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Co]=a[Co]||[]).unshift(ae(e)),i)throw a;return Fm(a,e,"R3InjectorError",this.source)}else throw a}finally{de(s),st(i)}}resolveInjectorInitializers(){let e=L(null),n=st(this),r=de(void 0),o;try{let i=this.get(So,fe,k.Self);for(let s of i)s()}finally{st(n),de(r),L(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ae(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){e=se(e);let n=En(e)?e:se(e&&e.provide),r=my(e);if(!En(e)&&e.multi===!0){let o=this.records.get(n);o||(o=pn(void 0,vo,!0),o.factory=()=>Us(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=L(null);try{return n.value===vo&&(n.value=py,n.value=n.factory()),typeof n.value=="object"&&n.value&&vy(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{L(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=se(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qs(t){let e=zo(t),n=e!==null?e.factory:Nt(t);if(n!==null)return n;if(t instanceof q)throw new F(204,!1);if(t instanceof Function)return gy(t);throw new F(204,!1)}function gy(t){if(t.length>0)throw new F(204,!1);let n=Em(t);return n!==null?()=>n.factory(t):()=>new t}function my(t){if(Sd(t))return pn(void 0,t.useValue);{let e=Ad(t);return pn(e,vo)}}function Ad(t,e,n){let r;if(En(t)){let o=se(t);return Nt(o)||qs(o)}else if(Sd(t))r=()=>se(t.useValue);else if(fy(t))r=()=>t.useFactory(...Us(t.deps||[]));else if(dy(t))r=()=>ne(se(t.useExisting));else{let o=se(t&&(t.useClass||t.provide));if(yy(t))r=()=>new o(...Us(t.deps));else return Nt(o)||qs(o)}return r}function pn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yy(t){return!!t.deps}function vy(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wy(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function Ws(t,e){for(let n of t)Array.isArray(n)?Ws(n,e):n&&ud(n)?Ws(n.\u0275providers,e):e(n)}function _y(t,e){t instanceof er&&t.assertNotDestroyed();let n,r=st(t),o=de(void 0);try{return e()}finally{st(r),de(o)}}function Md(){return cd()!==void 0||Rm()!=null}function Ey(t){if(!Md())throw new F(-203,!1)}function by(t){return typeof t=="function"}var ze=0,N=1,T=2,ee=3,xe=4,ye=5,tr=6,nr=7,Ae=8,bn=9,Me=10,Y=11,rr=12,Sl=13,Tn=14,Ne=15,lr=16,gn=17,Ge=18,Zo=19,Nd=20,at=21,Is=22,Ot=23,me=25,Od=1;var Rt=7,Ao=8,Dn=9,ge=10,$a=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}($a||{});function At(t){return Array.isArray(t)&&typeof t[Od]=="object"}function Ke(t){return Array.isArray(t)&&t[Od]===!0}function Va(t){return(t.flags&4)!==0}function Xo(t){return t.componentOffset>-1}function ei(t){return(t.flags&1)===1}function lt(t){return!!t.template}function Dy(t){return(t[T]&512)!==0}var Gs=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Rd(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function kd(){return Pd}function Pd(t){return t.type.prototype.ngOnChanges&&(t.setInput=Cy),Iy}kd.ngInherit=!0;function Iy(){let t=Ld(this),e=t?.current;if(e){let n=t.previous;if(n===_n)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Cy(t,e,n,r,o){let i=this.declaredInputs[r],s=Ld(t)||Ty(t,{previous:_n,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[i];a[i]=new Gs(c&&c.currentValue,n,u===_n),Rd(t,e,o,n)}var Fd="__ngSimpleChanges__";function Ld(t){return t[Fd]||null}function Ty(t,e){return t[Fd]=e}var xl=null;var Le=function(t,e,n){xl?.(t,e,n)},jd="svg",Sy="math",xy=!1;function Ay(){return xy}function $e(t){for(;Array.isArray(t);)t=t[ze];return t}function $d(t,e){return $e(e[t])}function _e(t,e){return $e(e[t.index])}function Vd(t,e){return t.data[e]}function Ud(t,e){return t[e]}function ht(t,e){let n=e[t];return At(n)?n:n[ze]}function My(t){return(t[T]&4)===4}function Ua(t){return(t[T]&128)===128}function Ny(t){return Ke(t[ee])}function In(t,e){return e==null?null:t[e]}function Bd(t){t[gn]=0}function Oy(t){t[T]&1024||(t[T]|=1024,Ua(t)&&or(t))}function Ry(t,e){for(;t>0;)e=e[Tn],t--;return e}function Ba(t){return!!(t[T]&9216||t[Ot]?.dirty)}function zs(t){t[Me].changeDetectionScheduler?.notify(1),Ba(t)?or(t):t[T]&64&&(Ay()?(t[T]|=1024,or(t)):t[Me].changeDetectionScheduler?.notify())}function or(t){t[Me].changeDetectionScheduler?.notify();let e=ir(t);for(;e!==null&&!(e[T]&8192||(e[T]|=8192,!Ua(e)));)e=ir(e)}function Hd(t,e){if((t[T]&256)===256)throw new F(911,!1);t[at]===null&&(t[at]=[]),t[at].push(e)}function ky(t,e){if(t[at]===null)return;let n=t[at].indexOf(e);n!==-1&&t[at].splice(n,1)}function ir(t){let e=t[ee];return Ke(e)?e[ee]:e}var A={lFrame:Qd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Py(){return A.lFrame.elementDepthCount}function Fy(){A.lFrame.elementDepthCount++}function Ly(){A.lFrame.elementDepthCount--}function qd(){return A.bindingsEnabled}function Wd(){return A.skipHydrationRootTNode!==null}function jy(t){return A.skipHydrationRootTNode===t}function $y(){A.skipHydrationRootTNode=null}function x(){return A.lFrame.lView}function J(){return A.lFrame.tView}function XA(t){return A.lFrame.contextLView=t,t[Ae]}function eM(t){return A.lFrame.contextLView=null,t}function re(){let t=Gd();for(;t!==null&&t.type===64;)t=t.parent;return t}function Gd(){return A.lFrame.currentTNode}function Vy(){let t=A.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Bt(t,e){let n=A.lFrame;n.currentTNode=t,n.isParent=e}function Ha(){return A.lFrame.isParent}function qa(){A.lFrame.isParent=!1}function Uy(){return A.lFrame.contextLView}function Ht(){let t=A.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function zd(){return A.lFrame.bindingIndex}function By(t){return A.lFrame.bindingIndex=t}function ti(){return A.lFrame.bindingIndex++}function ni(t){let e=A.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Hy(){return A.lFrame.inI18n}function qy(t,e){let n=A.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ks(e)}function Wy(){return A.lFrame.currentDirectiveIndex}function Ks(t){A.lFrame.currentDirectiveIndex=t}function Gy(t){let e=A.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Kd(){return A.lFrame.currentQueryIndex}function Wa(t){A.lFrame.currentQueryIndex=t}function zy(t){let e=t[N];return e.type===2?e.declTNode:e.type===1?t[ye]:null}function Yd(t,e,n){if(n&k.SkipSelf){let o=e,i=t;for(;o=o.parent,o===null&&!(n&k.Host);)if(o=zy(i),o===null||(i=i[Tn],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=A.lFrame=Jd();return r.currentTNode=e,r.lView=t,!0}function Ga(t){let e=Jd(),n=t[N];A.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jd(){let t=A.lFrame,e=t===null?null:t.child;return e===null?Qd(t):e}function Qd(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Zd(){let t=A.lFrame;return A.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Xd=Zd;function za(){let t=Zd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ky(t){return(A.lFrame.contextLView=Ry(t,A.lFrame.contextLView))[Ae]}function Ye(){return A.lFrame.selectedIndex}function kt(t){A.lFrame.selectedIndex=t}function Ka(){let t=A.lFrame;return Vd(t.tView,t.selectedIndex)}function tM(){A.lFrame.currentNamespace=jd}function Yy(){return A.lFrame.currentNamespace}var ef=!0;function ri(){return ef}function oi(t){ef=t}function Jy(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=Pd(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function ii(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function wo(t,e,n){tf(t,e,3,n)}function _o(t,e,n,r){(t[T]&3)===n&&tf(t,e,n,r)}function Cs(t,e){let n=t[T];(n&3)===e&&(n&=16383,n+=1,t[T]=n)}function tf(t,e,n,r){let o=r!==void 0?t[gn]&65535:0,i=r??-1,s=e.length-1,a=0;for(let u=o;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[gn]+=65536),(a<i||i==-1)&&(Qy(t,n,e,u),t[gn]=(t[gn]&4294901760)+u+2),u++}function Al(t,e){Le(4,t,e);let n=L(null);try{e.call(t)}finally{L(n),Le(5,t,e)}}function Qy(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[T]>>14<t[gn]>>16&&(t[T]&3)===e&&(t[T]+=16384,Al(a,i)):Al(a,i)}var wn=-1,Pt=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Zy(t){return t instanceof Pt}function Xy(t){return(t.flags&8)!==0}function ev(t){return(t.flags&16)!==0}function nf(t){return t!==wn}function Mo(t){return t&32767}function tv(t){return t>>16}function No(t,e){let n=tv(t),r=e;for(;n>0;)r=r[Tn],n--;return r}var Ys=!0;function Oo(t){let e=Ys;return Ys=t,e}var nv=256,rf=nv-1,of=5,rv=0,je={};function ov(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jn)&&(r=n[Jn]),r==null&&(r=n[Jn]=rv++);let o=r&rf,i=1<<o;e.data[t+(o>>of)]|=i}function Ro(t,e){let n=sf(t,e);if(n!==-1)return n;let r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Ts(r.data,t),Ts(e,null),Ts(r.blueprint,null));let o=Ya(t,e),i=t.injectorIndex;if(nf(o)){let s=Mo(o),a=No(o,e),u=a[N].data;for(let c=0;c<8;c++)e[i+c]=a[s+c]|u[s+c]}return e[i+8]=o,i}function Ts(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sf(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ya(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=df(o),r===null)return wn;if(n++,o=o[Tn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wn}function Js(t,e,n){ov(t,e,n)}function iv(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(md(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===e)return n[o+1];o=o+2}}}return null}function af(t,e,n){if(n&k.Optional||t!==void 0)return t;ka(e,"NodeInjector")}function uf(t,e,n,r){if(n&k.Optional&&r===void 0&&(r=null),!(n&(k.Self|k.Host))){let o=t[bn],i=de(void 0);try{return o?o.get(e,r,n&k.Optional):ld(e,r,n&k.Optional)}finally{de(i)}}return af(r,e,n)}function cf(t,e,n,r=k.Default,o){if(t!==null){if(e[T]&2048&&!(r&k.Self)){let s=cv(t,e,n,r,je);if(s!==je)return s}let i=lf(t,e,n,r,je);if(i!==je)return i}return uf(e,n,r,o)}function lf(t,e,n,r,o){let i=av(n);if(typeof i=="function"){if(!Yd(e,t,r))return r&k.Host?af(o,n,r):uf(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&k.Optional))ka(n);else return s}finally{Xd()}}else if(typeof i=="number"){let s=null,a=sf(t,e),u=wn,c=r&k.Host?e[Ne][ye]:null;for((a===-1||r&k.SkipSelf)&&(u=a===-1?Ya(t,e):e[a+8],u===wn||!Nl(r,!1)?a=-1:(s=e[N],a=Mo(u),e=No(u,e)));a!==-1;){let l=e[N];if(Ml(i,a,l.data)){let d=sv(a,e,n,s,r,c);if(d!==je)return d}u=e[a+8],u!==wn&&Nl(r,e[N].data[a+8]===c)&&Ml(i,a,e)?(s=l,a=Mo(u),e=No(u,e)):a=-1}}return o}function sv(t,e,n,r,o,i){let s=e[N],a=s.data[t+8],u=r==null?Xo(a)&&Ys:r!=s&&(a.type&3)!==0,c=o&k.Host&&i===a,l=Eo(a,s,n,u,c);return l!==null?Ft(e,s,l,a):je}function Eo(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,u=t.directiveStart,c=t.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:c;for(let f=d;f<h;f++){let g=s[f];if(f<u&&n===g||f>=u&&g.type===n)return f}if(o){let f=s[u];if(f&&lt(f)&&f.type===n)return u}return null}function Ft(t,e,n,r){let o=t[n],i=e.data;if(Zy(o)){let s=o;s.resolving&&xm(Sm(i[n]));let a=Oo(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?de(s.injectImpl):null,l=Yd(t,r,k.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&Jy(n,i[n],e)}finally{c!==null&&de(c),Oo(a),s.resolving=!1,Xd()}}return o}function av(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Jn)?t[Jn]:void 0;return typeof e=="number"?e>=0?e&rf:uv:e}function Ml(t,e,n){let r=1<<t;return!!(n[e+(t>>of)]&r)}function Nl(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var Mt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cf(this._tNode,this._lView,e,Ko(r),n)}};function uv(){return new Mt(re(),x())}function nM(t){return ur(()=>{let e=t.prototype.constructor,n=e[Io]||Qs(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Io]||Qs(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Qs(t){return od(t)?()=>{let e=Qs(se(t));return e&&e()}:Nt(t)}function cv(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[T]&2048&&!(s[T]&512);){let a=lf(i,s,n,r|k.Self,je);if(a!==je)return a;let u=i.parent;if(!u){let c=s[Nd];if(c){let l=c.get(n,je,r);if(l!==je)return l}u=df(s),s=s[Tn]}i=u}return o}function df(t){let e=t[N],n=e.type;return n===2?e.declTNode:n===1?t[ye]:null}function lv(t){return iv(re(),t)}function Ol(t,e=null,n=null,r){let o=ff(t,e,n,r);return o.resolveInjectorInitializers(),o}function ff(t,e=null,n=null,r,o=new Set){let i=[n||fe,cy(t)];return r=r||(typeof t=="object"?void 0:ae(t)),new er(i,e||Qo(),r||null,o)}var dr=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Qn}static{this.NULL=new xo}static create(n,r){if(Array.isArray(n))return Ol({name:""},r,n,"");{let o=n.name??"";return Ol({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=W({token:t,providedIn:"any",factory:()=>ne(hd)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var dv="ngOriginalError";function Ss(t){return t[dv]}var Lt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ss(e);for(;n&&Ss(n);)n=Ss(n);return n||null}},hf=new q("",{providedIn:"root",factory:()=>$(Lt).handleError.bind(void 0)}),Ja=(()=>{class t{static{this.__NG_ELEMENT_ID__=fv}static{this.__NG_ENV_ID__=n=>n}}return t})(),Zs=class extends Ja{constructor(e){super(),this._lView=e}onDestroy(e){return Hd(this._lView,e),()=>ky(this._lView,e)}};function fv(){return new Zs(x())}function hv(){return Sn(re(),x())}function Sn(t,e){return new qt(_e(t,e))}var qt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=hv}}return t})();function pv(t){return t instanceof qt?t.nativeElement:t}var Xs=class extends it{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Md()&&(this.destroyRef=$(Ja,{optional:!0})??void 0)}emit(e){let n=L(null);try{super.next(e)}finally{L(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=xs(i),o&&(o=xs(o)),s&&(s=xs(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof Q&&e.add(a),a}};function xs(t){return e=>{setTimeout(t,void 0,e)}}var xt=Xs;function gv(){return this._results[Symbol.iterator]()}var ea=class t{get changes(){return this._changes??=new xt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gv)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Um(e);(this._changesDetected=!Vm(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function pf(t){return(t.flags&128)===128}var gf=new Map,mv=0;function yv(){return mv++}function vv(t){gf.set(t[Zo],t)}function wv(t){gf.delete(t[Zo])}var Rl="__ngContext__";function dt(t,e){At(e)?(t[Rl]=e[Zo],vv(e)):t[Rl]=e}function mf(t){return vf(t[rr])}function yf(t){return vf(t[xe])}function vf(t){for(;t!==null&&!Ke(t);)t=t[xe];return t}var ta;function rM(t){ta=t}function _v(){if(ta!==void 0)return ta;if(typeof document<"u")return document;throw new F(210,!1)}var oM=new q("",{providedIn:"root",factory:()=>Ev}),Ev="ng",bv=new q(""),Qa=new q("",{providedIn:"platform",factory:()=>"unknown"});var iM=new q(""),sM=new q("",{providedIn:"root",factory:()=>_v().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Dv="h",Iv="b";var Cv=()=>null;function Za(t,e,n=!1){return Cv(t,e,n)}var wf=!1,Tv=new q("",{providedIn:"root",factory:()=>wf});var go;function Sv(){if(go===void 0&&(go=null,Fe.trustedTypes))try{go=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return go}function kl(t){return Sv()?.createScriptURL(t)||t}var ko=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ed})`}};function fr(t){return t instanceof ko?t.changingThisBreaksApplicationSecurity:t}function _f(t,e){let n=xv(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ed})`)}return n===e}function xv(t){return t instanceof ko&&t.getTypeName()||null}var Av=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mv(t){return t=String(t),t.match(Av)?t:"unsafe:"+t}var Xa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xa||{});function Nv(t){let e=Ef();return e?e.sanitize(Xa.URL,t)||"":_f(t,"URL")?fr(t):Mv(qe(t))}function Ov(t){let e=Ef();if(e)return kl(e.sanitize(Xa.RESOURCE_URL,t)||"");if(_f(t,"ResourceURL"))return kl(fr(t));throw new F(904,!1)}function Rv(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Ov:Nv}function aM(t,e,n){return Rv(e,n)(t)}function Ef(){let t=x();return t&&t[Me].sanitizer}var kv=/^>|^->|<!--|-->|--!>|<!-$/g,Pv=/(<|>)/g,Fv="\u200B$1\u200B";function Lv(t){return t.replace(kv,e=>e.replace(Pv,Fv))}function uM(t){return t.ownerDocument}function bf(t){return t instanceof Function?t():t}function jv(t){return(t??$(dr)).get(Qa)==="browser"}var Po=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Po||{}),$v;function eu(t,e){return $v(t,e)}function mn(t,e,n,r,o){if(r!=null){let i,s=!1;Ke(r)?i=r:At(r)&&(s=!0,r=r[ze]);let a=$e(r);t===0&&n!==null?o==null?xf(e,n,a):Fo(e,n,a,o||null,!0):t===1&&n!==null?Fo(e,n,a,o||null,!0):t===2?tw(e,a,s):t===3&&e.destroyNode(a),i!=null&&rw(e,t,i,n,o)}}function Vv(t,e){return t.createText(e)}function Uv(t,e,n){t.setValue(e,n)}function Bv(t,e){return t.createComment(Lv(e))}function Df(t,e,n){return t.createElement(e,n)}function Hv(t,e){If(t,e),e[ze]=null,e[ye]=null}function qv(t,e,n,r,o,i){r[ze]=o,r[ye]=e,ai(t,r,n,1,o,i)}function If(t,e){e[Me].changeDetectionScheduler?.notify(1),ai(t,e,e[Y],2,null,null)}function Wv(t){let e=t[rr];if(!e)return As(t[N],t);for(;e;){let n=null;if(At(e))n=e[rr];else{let r=e[ge];r&&(n=r)}if(!n){for(;e&&!e[xe]&&e!==t;)At(e)&&As(e[N],e),e=e[ee];e===null&&(e=t),At(e)&&As(e[N],e),n=e&&e[xe]}e=n}}function Gv(t,e,n,r){let o=ge+r,i=n.length;r>0&&(n[o-1][xe]=e),r<i-ge?(e[xe]=n[o],fd(n,ge+r,e)):(n.push(e),e[xe]=null),e[ee]=n;let s=e[lr];s!==null&&n!==s&&zv(s,e);let a=e[Ge];a!==null&&a.insertView(t),zs(e),e[T]|=128}function zv(t,e){let n=t[Dn],o=e[ee][ee][Ne];e[Ne]!==o&&(t[T]|=$a.HasTransplantedViews),n===null?t[Dn]=[e]:n.push(e)}function Cf(t,e){let n=t[Dn],r=n.indexOf(e);n.splice(r,1)}function na(t,e){if(t.length<=ge)return;let n=ge+e,r=t[n];if(r){let o=r[lr];o!==null&&o!==t&&Cf(o,r),e>0&&(t[n-1][xe]=r[xe]);let i=To(t,ge+e);Hv(r[N],r);let s=i[Ge];s!==null&&s.detachView(i[N]),r[ee]=null,r[xe]=null,r[T]&=-129}return r}function Tf(t,e){if(!(e[T]&256)){let n=e[Y];n.destroyNode&&ai(t,e,n,3,null,null),Wv(e)}}function As(t,e){if(e[T]&256)return;let n=L(null);try{e[T]&=-129,e[T]|=256,e[Ot]&&ml(e[Ot]),Yv(t,e),Kv(t,e),e[N].type===1&&e[Y].destroy();let r=e[lr];if(r!==null&&Ke(e[ee])){r!==e[ee]&&Cf(r,e);let o=e[Ge];o!==null&&o.detachView(t)}wv(e)}finally{L(n)}}function Kv(t,e){let n=t.cleanup,r=e[nr];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(e[nr]=null);let o=e[at];if(o!==null){e[at]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function Yv(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof Pt)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],u=i[s+1];Le(4,a,u);try{u.call(a)}finally{Le(5,a,u)}}else{Le(4,o,i);try{i.call(o)}finally{Le(5,o,i)}}}}}function Sf(t,e,n){return Jv(t,e.parent,n)}function Jv(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ze];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=t.data[r.directiveStart+o];if(i===Zn.None||i===Zn.Emulated)return null}return _e(r,n)}}function Fo(t,e,n,r,o){t.insertBefore(e,n,r,o)}function xf(t,e,n){t.appendChild(e,n)}function Pl(t,e,n,r,o){r!==null?Fo(t,e,n,r,o):xf(t,e,n)}function Qv(t,e,n,r){t.removeChild(e,n,r)}function tu(t,e){return t.parentNode(e)}function Zv(t,e){return t.nextSibling(e)}function Af(t,e,n){return ew(t,e,n)}function Xv(t,e,n){return t.type&40?_e(t,n):null}var ew=Xv,Fl;function si(t,e,n,r){let o=Sf(t,r,e),i=e[Y],s=r.parent||e[ye],a=Af(s,r,e);if(o!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Pl(i,o,n[u],a,!1);else Pl(i,o,n,a,!1);Fl!==void 0&&Fl(i,r,e,n,o)}function bo(t,e){if(e!==null){let n=e.type;if(n&3)return _e(e,t);if(n&4)return ra(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return bo(t,r);{let o=t[e.index];return Ke(o)?ra(-1,o):$e(o)}}else{if(n&32)return eu(e,t)()||$e(t[e.index]);{let r=Mf(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=ir(t[Ne]);return bo(o,r)}else return bo(t,e.next)}}}return null}function Mf(t,e){if(e!==null){let r=t[Ne][ye],o=e.projection;return r.projection[o]}return null}function ra(t,e){let n=ge+t+1;if(n<e.length){let r=e[n],o=r[N].firstChild;if(o!==null)return bo(r,o)}return e[Rt]}function tw(t,e,n){let r=tu(t,e);r&&Qv(t,r,e,n)}function nu(t,e,n,r,o,i,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&dt($e(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)nu(t,e,n.child,r,o,i,!1),mn(e,t,o,a,i);else if(u&32){let c=eu(n,r),l;for(;l=c();)mn(e,t,o,l,i);mn(e,t,o,a,i)}else u&16?Nf(t,e,r,n,o,i):mn(e,t,o,a,i);n=s?n.projectionNext:n.next}}function ai(t,e,n,r,o,i){nu(n,r,t.firstChild,e,o,i,!1)}function nw(t,e,n){let r=e[Y],o=Sf(t,n,e),i=n.parent||e[ye],s=Af(i,n,e);Nf(r,0,e,n,o,s)}function Nf(t,e,n,r,o,i){let s=n[Ne],u=s[ye].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];mn(e,t,o,l,i)}else{let c=u,l=s[ee];pf(r)&&(c.flags|=128),nu(t,e,c,l,o,i,!0)}}function rw(t,e,n,r,o){let i=n[Rt],s=$e(n);i!==s&&mn(e,t,r,i,o);for(let a=ge;a<n.length;a++){let u=n[a];ai(u[N],u,t,e,r,i)}}function ow(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Po.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Po.Important),t.setStyle(n,r,o,i))}}function iw(t,e,n){t.setAttribute(e,"style",n)}function Of(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Rf(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&Bs(t,e,r),o!==null&&Of(t,e,o),i!==null&&iw(t,e,i)}var he={};function cM(t=1){kf(J(),x(),Ye()+t,!1)}function kf(t,e,n,r){if(!r)if((e[T]&3)===3){let i=t.preOrderCheckHooks;i!==null&&wo(e,i,n)}else{let i=t.preOrderHooks;i!==null&&_o(e,i,0,n)}kt(n)}function ve(t,e=k.Default){let n=x();if(n===null)return ne(t,e);let r=re();return cf(r,n,se(t),e)}function lM(){let t="invalid";throw new Error(t)}function Pf(t,e,n,r,o,i){let s=L(null);try{let a=null;o&ut.SignalBased&&(a=e[r][vs]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&ut.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(e,i)),t.setInput!==null?t.setInput(e,a,i,n,r):Rd(e,a,r,i)}finally{L(s)}}function sw(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)kt(~o);else{let i=o,s=n[++r],a=n[++r];qy(s,i);let u=e[i];a(2,u)}}}finally{kt(-1)}}function ui(t,e,n,r,o,i,s,a,u,c,l){let d=e.blueprint.slice();return d[ze]=o,d[T]=r|4|128|8|64,(c!==null||t&&t[T]&2048)&&(d[T]|=2048),Bd(d),d[ee]=d[Tn]=t,d[Ae]=n,d[Me]=s||t&&t[Me],d[Y]=a||t&&t[Y],d[bn]=u||t&&t[bn]||null,d[ye]=i,d[Zo]=yv(),d[tr]=l,d[Nd]=c,d[Ne]=e.type==2?t[Ne]:d,d}function xn(t,e,n,r,o){let i=t.data[e];if(i===null)i=aw(t,e,n,r,o),Hy()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Vy();i.injectorIndex=s===null?-1:s.injectorIndex}return Bt(i,!0),i}function aw(t,e,n,r,o){let i=Gd(),s=Ha(),a=s?i:i&&i.parent,u=t.data[e]=hw(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=u),i!==null&&(s?i.child==null&&u.parent!==null&&(i.child=u):i.next===null&&(i.next=u,u.prev=i)),u}function Ff(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Lf(t,e,n,r,o){let i=Ye(),s=r&2;try{kt(-1),s&&e.length>me&&kf(t,e,me,!1),Le(s?2:0,o),n(r,o)}finally{kt(i),Le(s?3:1,o)}}function ru(t,e,n){if(Va(e)){let r=L(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{L(r)}}}function ou(t,e,n){qd()&&(ww(t,e,n,_e(n,e)),(n.flags&64)===64&&Uf(t,e,n))}function iu(t,e,n=_e){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function jf(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=su(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function su(t,e,n,r,o,i,s,a,u,c,l){let d=me+r,h=d+o,f=uw(d,h),g=typeof c=="function"?c():c;return f[N]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:l}}function uw(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:he);return n}function cw(t,e,n,r){let i=r.get(Tv,wf)||n===Zn.ShadowDom,s=t.selectRootElement(e,i);return lw(s),s}function lw(t){dw(t)}var dw=()=>null;function fw(t,e,n,r){let o=qf(e);o.push(n),t.firstCreatePass&&Wf(t).push(r,o.length-1)}function hw(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Wd()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ll(t,e,n,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;let s=e[i];if(s===void 0)continue;r??={};let a,u=ut.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=i;if(o!==null){if(!o.hasOwnProperty(i))continue;c=o[i]}t===0?jl(r,n,c,a,u):jl(r,n,c,a)}return r}function jl(t,e,n,r,o){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,r):i=t[n]=[e,r],o!==void 0&&i.push(o)}function pw(t,e,n){let r=e.directiveStart,o=e.directiveEnd,i=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<o;l++){let d=i[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;u=Ll(0,d.inputs,l,u,f),c=Ll(1,d.outputs,l,c,g);let m=u!==null&&s!==null&&!Fa(e)?Mw(u,l,s):null;a.push(m)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function gw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $f(t,e,n,r,o,i,s,a){let u=_e(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(uu(t,n,l,r,o),Xo(e)&&mw(n,e.index)):e.type&3?(r=gw(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(u,r,o)):e.type&12}function mw(t,e){let n=ht(e,t);n[T]&16||(n[T]|=64)}function au(t,e,n,r){if(qd()){let o=r===null?null:{"":-1},i=Ew(t,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&Vf(t,e,n,s,o,a),o&&bw(n,r,o)}n.mergedAttrs=Xn(n.mergedAttrs,n.attrs)}function Vf(t,e,n,r,o,i){for(let c=0;c<r.length;c++)Js(Ro(n,e),t,r[c].type);Iw(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Ff(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=Xn(n.mergedAttrs,l.hostAttrs),Cw(t,n,e,u,l),Dw(u,l,o),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}pw(t,n,i)}function yw(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;vw(s)!=a&&s.push(a),s.push(n,r,i)}}function vw(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ww(t,e,n,r){let o=n.directiveStart,i=n.directiveEnd;Xo(n)&&Tw(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Ro(n,e),dt(r,e);let s=n.initialInputs;for(let a=o;a<i;a++){let u=t.data[a],c=Ft(e,t,a,n);if(dt(c,e),s!==null&&Aw(e,a-o,c,u,n,s),lt(u)){let l=ht(n.index,e);l[Ae]=Ft(e,t,a,n)}}}function Uf(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Wy();try{kt(i);for(let a=r;a<o;a++){let u=t.data[a],c=e[a];Ks(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&_w(u,c)}}finally{kt(-1),Ks(s)}}function _w(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ew(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(vd(e,s.selectors,!1))if(r||(r=[]),lt(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let u=a.length;oa(t,e,u)}else r.unshift(s),oa(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function oa(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bw(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new F(-301,!1);r.push(e[o],i)}}}function Dw(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lt(e)&&(n[""]=t)}}function Iw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Cw(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=Nt(o.type,!0)),s=new Pt(i,lt(o),ve);t.blueprint[r]=s,n[r]=s,yw(t,e,r,Ff(t,n,o.hostVars,he),o)}function Tw(t,e,n){let r=_e(e,t),o=jf(n),i=t[Me].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ci(t,ui(t,o,null,s,r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=a}function Sw(t,e,n,r,o,i){let s=_e(t,e);xw(e[Y],s,i,t.value,n,r,o)}function xw(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?qe(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function Aw(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];Pf(r,n,u,c,l,d)}}function Mw(t,e,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){r===null&&(r=[]);let s=t[i];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}return r}function Bf(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Hf(t,e){let n=t.contentQueries;if(n!==null){let r=L(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];Wa(i),a.contentQueries(2,e[s],s)}}}finally{L(r)}}}function ci(t,e){return t[rr]?t[Sl][xe]=e:t[rr]=e,t[Sl]=e,e}function ia(t,e,n){Wa(0);let r=L(null);try{e(t,n)}finally{L(r)}}function qf(t){return t[nr]||(t[nr]=[])}function Wf(t){return t.cleanup||(t.cleanup=[])}function Gf(t,e){let n=t[bn],r=n?n.get(Lt,null):null;r&&r.handleError(e)}function uu(t,e,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],u=n[i++],c=e[s],l=t.data[s];Pf(l,c,r,a,u,o)}}function cu(t,e,n){let r=$d(e,t);Uv(t[Y],r,n)}function Nw(t,e){let n=ht(e,t),r=n[N];Ow(r,n);let o=n[ze];o!==null&&n[tr]===null&&(n[tr]=Za(o,n[bn])),lu(r,n,n[Ae])}function Ow(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lu(t,e,n){Ga(e);try{let r=t.viewQuery;r!==null&&ia(1,r,n);let o=t.template;o!==null&&Lf(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ge]?.finishViewCreation(t),t.staticContentQueries&&Hf(t,e),t.staticViewQueries&&ia(2,t.viewQuery,n);let i=t.components;i!==null&&Rw(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[T]&=-5,za()}}function Rw(t,e){for(let n=0;n<e.length;n++)Nw(t,e[n])}function kw(t,e,n,r){let o=L(null);try{let i=e.tView,a=t[T]&4096?4096:16,u=ui(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];u[lr]=c;let l=t[Ge];return l!==null&&(u[Ge]=l.createEmbeddedView(i)),lu(i,u,n),u}finally{L(o)}}function $l(t,e){return!e||e.firstChild===null||pf(t)}function Pw(t,e,n,r=!0){let o=e[N];if(Gv(o,e,t,n),r){let s=ra(n,t),a=e[Y],u=tu(a,t[Rt]);u!==null&&qv(o,t[ye],a,e,u,s)}let i=e[tr];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Lo(t,e,n,r,o=!1){for(;n!==null;){let i=e[n.index];i!==null&&r.push($e(i)),Ke(i)&&Fw(i,r);let s=n.type;if(s&8)Lo(t,e,n.child,r);else if(s&32){let a=eu(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Mf(e,n);if(Array.isArray(a))r.push(...a);else{let u=ir(e[Ne]);Lo(u[N],u,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Fw(t,e){for(let n=ge;n<t.length;n++){let r=t[n],o=r[N].firstChild;o!==null&&Lo(r[N],r,o,e)}t[Rt]!==t[ze]&&e.push(t[Rt])}var zf=[];function Lw(t){return t[Ot]??jw(t)}function jw(t){let e=zf.pop()??Object.create(Vw);return e.lView=t,e}function $w(t){t.lView[Ot]!==t&&(t.lView=null,zf.push(t))}var Vw=Wn(qn({},hl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{or(t.lView)},consumerOnSignalRead(){this.lView[Ot]=this}}),Kf=100;function Yf(t,e=!0,n=0){let r=t[Me],o=r.rendererFactory,i=!1;i||o.begin?.();try{Uw(t,n)}catch(s){throw e&&Gf(t,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function Uw(t,e){sa(t,e);let n=0;for(;Ba(t);){if(n===Kf)throw new F(103,!1);n++,sa(t,1)}}function Bw(t,e,n,r){let o=e[T];if((o&256)===256)return;let i=!1;!i&&e[Me].inlineEffectRunner?.flush(),Ga(e);let s=null,a=null;!i&&Hw(t)&&(a=Lw(e),s=pl(a));try{Bd(e),By(t.bindingStartIndex),n!==null&&Lf(t,e,n,2,r);let u=(o&3)===3;if(!i)if(u){let d=t.preOrderCheckHooks;d!==null&&wo(e,d,null)}else{let d=t.preOrderHooks;d!==null&&_o(e,d,0,null),Cs(e,0)}if(qw(e),Jf(e,0),t.contentQueries!==null&&Hf(t,e),!i)if(u){let d=t.contentCheckHooks;d!==null&&wo(e,d)}else{let d=t.contentHooks;d!==null&&_o(e,d,1),Cs(e,1)}sw(t,e);let c=t.components;c!==null&&Zf(e,c,0);let l=t.viewQuery;if(l!==null&&ia(2,l,r),!i)if(u){let d=t.viewCheckHooks;d!==null&&wo(e,d)}else{let d=t.viewHooks;d!==null&&_o(e,d,2),Cs(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Is]){for(let d of e[Is])d();e[Is]=null}i||(e[T]&=-73)}catch(u){throw or(e),u}finally{a!==null&&(gl(a,s),$w(a)),za()}}function Hw(t){return t.type!==2}function Jf(t,e){for(let n=mf(t);n!==null;n=yf(n))for(let r=ge;r<n.length;r++){let o=n[r];Qf(o,e)}}function qw(t){for(let e=mf(t);e!==null;e=yf(e)){if(!(e[T]&$a.HasTransplantedViews))continue;let n=e[Dn];for(let r=0;r<n.length;r++){let o=n[r],i=o[ee];Oy(o)}}}function Ww(t,e,n){let r=ht(e,t);Qf(r,n)}function Qf(t,e){Ua(t)&&sa(t,e)}function sa(t,e){let r=t[N],o=t[T],i=t[Ot],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&ws(i)),i&&(i.dirty=!1),t[T]&=-9217,s)Bw(r,t,r.template,t[Ae]);else if(o&8192){Jf(t,1);let a=r.components;a!==null&&Zf(t,a,1)}}function Zf(t,e,n){for(let r=0;r<e.length;r++)Ww(t,e[r],n)}function du(t){for(t[Me].changeDetectionScheduler?.notify();t;){t[T]|=64;let e=ir(t);if(Dy(t)&&!e)return t;t=e}return null}var jt=class{get rootNodes(){let e=this._lView,n=e[N];return Lo(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ae]}set context(e){this._lView[Ae]=e}get destroyed(){return(this._lView[T]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ee];if(Ke(e)){let n=e[Ao],r=n?n.indexOf(this):-1;r>-1&&(na(e,r),To(n,r))}this._attachedToViewContainer=!1}Tf(this._lView[N],this._lView)}onDestroy(e){Hd(this._lView,e)}markForCheck(){du(this._cdRefInjectingView||this._lView)}detach(){this._lView[T]&=-129}reattach(){zs(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,Yf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,If(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e,zs(this._lView)}},$t=(()=>{class t{static{this.__NG_ELEMENT_ID__=Kw}}return t})(),Gw=$t,zw=class extends Gw{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=kw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new jt(o)}};function Kw(){return li(re(),x())}function li(t,e){return t.type&4?new zw(e,t,Sn(t,e)):null}var fM=new RegExp(`^(\\d+)*(${Iv}|${Dv})*(.*)`);var Yw=()=>null;function Vl(t,e){return Yw(t,e)}var jo=class{},aa=class{},$o=class{};function Jw(t){let e=Error(`No component factory found for ${ae(t)}.`);return e[Qw]=t,e}var Qw="ngComponent";var ua=class{resolveComponentFactory(e){throw Jw(e)}},di=(()=>{class t{static{this.NULL=new ua}}return t})(),ca=class{},fu=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Zw()}}return t})();function Zw(){let t=x(),e=re(),n=ht(e.index,t);return(At(n)?n:t)[Y]}var Xw=(()=>{class t{static{this.\u0275prov=W({token:t,providedIn:"root",factory:()=>null})}}return t})(),Ms={};var Ul=new Set;function hu(t){Ul.has(t)||(Ul.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Bl(...t){}function e_(){let t=typeof Fe.requestAnimationFrame=="function",e=Fe[t?"requestAnimationFrame":"setTimeout"],n=Fe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=e_().nativeRequestAnimationFrame,r_(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,t_,Bl,Bl);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},t_={};function pu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function n_(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,la(t),t.isCheckStableRunning=!0,pu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),la(t))}function r_(t){let e=()=>{n_(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(o_(a))return n.invokeTask(o,i,s,a);try{return Hl(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ql(t)}},onInvoke:(n,r,o,i,s,a,u)=>{try{return Hl(t),n.invoke(o,i,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ql(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(t._hasPendingMicrotasks=i.microTask,la(t),pu(t)):i.change=="macroTask"&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}function la(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ql(t){t._nesting--,pu(t)}function o_(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var yn=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(yn||{}),i_={destroy(){}};function s_(t,e){!e&&Ey(s_);let n=e?.injector??$(dr);if(!jv(n))return i_;hu("NgAfterNextRender");let r=n.get(gu),o=r.handler??=new fa,i=e?.phase??yn.MixedReadWrite,s=()=>{o.unregister(u),a()},a=n.get(Ja).onDestroy(s),u=_y(n,()=>new da(i,()=>{s(),t()}));return o.register(u),{destroy:s}}var da=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=$(we),this.errorHandler=$(Lt,{optional:!0}),$(jo,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},fa=class{constructor(){this.executingCallbacks=!1,this.buckets={[yn.EarlyRead]:new Set,[yn.Write]:new Set,[yn.MixedReadWrite]:new Set,[yn.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},gu=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Vo(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=js(o,a);else if(i==2){let u=a,c=e[++s];r=js(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var Uo=class extends di{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=We(e);return new Vt(n,this.ngModule)}};function Wl(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function a_(t){let e=t.toLowerCase();return e==="svg"?jd:e==="math"?Sy:null}var ha=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ko(r);let o=this.injector.get(e,Ms,r);return o!==Ms||n===Ms?o:this.parentInjector.get(e,n,r)}},Vt=class extends $o{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Wl(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Wl(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ny(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let i=L(null);try{o=o||this.ngModule;let s=o instanceof ct?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ha(e,s):e,u=a.get(ca,null);if(u===null)throw new F(407,!1);let c=a.get(Xw,null),l=a.get(gu,null),d=a.get(jo,null),h={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?cw(f,r,this.componentDef.encapsulation,a):Df(f,g,a_(g)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let v=null;m!==null&&(v=Za(m,a,!0));let S=su(0,null,null,1,0,null,null,null,null,null,null),E=ui(null,S,null,y,null,null,h,f,a,null,v);Ga(E);let _,R;try{let K=this.componentDef,P,G=null;K.findHostDirectiveDefs?(P=[],G=new Map,K.findHostDirectiveDefs(K,P,G),P.push(K)):P=[K];let Re=u_(E,m),Ie=c_(Re,m,K,P,E,h,f);R=Vd(S,me),m&&f_(f,K,m,r),n!==void 0&&h_(R,this.ngContentSelectors,n),_=d_(Ie,K,P,G,E,[p_]),lu(S,E,null)}finally{za()}return new pa(this.componentType,_,Sn(R,E),E,R)}finally{L(i)}}},pa=class extends aa{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new jt(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;uu(i[N],i,o,e,n),this.previousInputValues.set(e,n);let s=ht(this._tNode.index,i);du(s)}}get injector(){return new Mt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function u_(t,e){let n=t[N],r=me;return t[r]=e,xn(n,r,2,"#host",null)}function c_(t,e,n,r,o,i,s){let a=o[N];l_(r,t,e,s);let u=null;e!==null&&(u=Za(e,o[bn]));let c=i.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=ui(o,jf(n),null,l,o[t.index],t,i,c,null,null,u);return a.firstCreatePass&&oa(a,t,r.length-1),ci(o,d),o[t.index]=d}function l_(t,e,n,r){for(let o of t)e.mergedAttrs=Xn(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Vo(e,e.mergedAttrs,!0),n!==null&&Rf(r,n,e))}function d_(t,e,n,r,o,i){let s=re(),a=o[N],u=_e(s,o);Vf(a,o,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=Ft(o,a,d,s);dt(h,o)}Uf(a,o,s),u&&dt(u,o);let c=Ft(o,a,s.directiveStart+s.componentOffset,s);if(t[Ae]=o[Ae]=c,i!==null)for(let l of i)l(c,e);return ru(a,s,o),c}function f_(t,e,n,r){if(r)Bs(t,n,["ng-version","17.3.12"]);else{let{attrs:o,classes:i}=ry(e.selectors[0]);o&&Bs(t,n,o),i&&i.length>0&&Of(t,n,i.join(" "))}}function h_(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function p_(){let t=re();ii(x()[N],t)}var An=(()=>{class t{static{this.__NG_ELEMENT_ID__=g_}}return t})();function g_(){let t=re();return eh(t,x())}var m_=An,Xf=class extends m_{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Sn(this._hostTNode,this._hostLView)}get injector(){return new Mt(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ya(this._hostTNode,this._hostLView);if(nf(e)){let n=No(e,this._hostLView),r=Mo(e),o=n[N].data[r+8];return new Mt(o,n)}else return new Mt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Gl(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ge}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Vl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,$l(this._hostTNode,s)),a}createComponent(e,n,r,o,i){let s=e&&!by(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let u=s?e:new Vt(We(e)),c=r||this.parentInjector;if(!i&&u.ngModule==null){let m=(s?c:this.parentInjector).get(ct,null);m&&(i=m)}let l=We(u.componentType??{}),d=Vl(this._lContainer,l?.id??null),h=d?.firstChild??null,f=u.create(c,o,h,i);return this.insertImpl(f.hostView,a,$l(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Ny(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=o[ee],c=new Xf(u,u[ye],u[ee]);c.detach(c.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Pw(s,o,i,r),e.attachToViewContainerRef(),fd(Ns(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Gl(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=na(this._lContainer,n);r&&(To(Ns(this._lContainer),n),Tf(r[N],r))}detach(e){let n=this._adjustIndex(e,-1),r=na(this._lContainer,n);return r&&To(Ns(this._lContainer),n)!=null?new jt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Gl(t){return t[Ao]}function Ns(t){return t[Ao]||(t[Ao]=[])}function eh(t,e){let n,r=e[t.index];return Ke(r)?n=r:(n=Bf(r,e,null,t),e[t.index]=n,ci(e,n)),v_(n,e,t,r),new Xf(n,t,e)}function y_(t,e){let n=t[Y],r=n.createComment(""),o=_e(e,t),i=tu(n,o);return Fo(n,i,r,Zv(n,o),!1),r}var v_=E_,w_=()=>!1;function __(t,e,n){return w_(t,e,n)}function E_(t,e,n,r){if(t[Rt])return;let o;n.type&8?o=$e(r):o=y_(e,n),t[Rt]=o}var ga=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ma=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)mu(e,n).matches!==null&&this.queries[n].setDirty()}},Bo=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=A_(e):this.predicate=e}},ya=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},va=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,b_(n,i)),this.matchTNodeWithReadOption(e,n,Eo(n,e,i,!1,!1))}else r===$t?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Eo(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===qt||o===An||o===$t&&n.type&4)this.addMatch(n.index,-2);else{let i=Eo(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function b_(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function D_(t,e){return t.type&11?Sn(t,e):t.type&4?li(t,e):null}function I_(t,e,n,r){return n===-1?D_(e,t):n===-2?C_(t,e,r):Ft(t,t[N],n,e)}function C_(t,e,n){if(n===qt)return Sn(e,t);if(n===$t)return li(e,t);if(n===An)return eh(e,t)}function th(t,e,n,r){let o=e[Ge].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let c=s[u];if(c<0)a.push(null);else{let l=i[c];a.push(I_(e,l,s[u+1],n.metadata.read))}}o.matches=a}return o.matches}function wa(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=th(t,e,o,n);for(let a=0;a<i.length;a+=2){let u=i[a];if(u>0)r.push(s[a/2]);else{let c=i[a+1],l=e[-u];for(let d=ge;d<l.length;d++){let h=l[d];h[lr]===h[ee]&&wa(h[N],h,c,r)}if(l[Dn]!==null){let d=l[Dn];for(let h=0;h<d.length;h++){let f=d[h];wa(f[N],f,c,r)}}}}}return r}function T_(t,e){return t[Ge].queries[e].queryList}function nh(t,e,n){let r=new ea((n&4)===4);return fw(t,e,r,r.destroy),(e[Ge]??=new ma).queries.push(new ga(r))-1}function S_(t,e,n){let r=J();return r.firstCreatePass&&(rh(r,new Bo(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),nh(r,x(),e)}function x_(t,e,n,r){let o=J();if(o.firstCreatePass){let i=re();rh(o,new Bo(e,n,r),i.index),M_(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return nh(o,x(),n)}function A_(t){return t.split(",").map(e=>e.trim())}function rh(t,e,n){t.queries===null&&(t.queries=new ya),t.queries.track(new va(e,n))}function M_(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function mu(t,e){return t.queries.getByIndex(e)}function N_(t,e){let n=t[N],r=mu(n,e);return r.crossesNgTemplate?wa(n,t,e,[]):th(n,t,r,e)}function O_(t){return typeof t=="function"&&t[vs]!==void 0}function oh(t){return O_(t)&&typeof t.set=="function"}function R_(t){return Object.getPrototypeOf(t.prototype).constructor}function k_(t){let e=R_(t.type),n=!0,r=[t];for(;e;){let o;if(lt(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=mo(t.inputs),s.inputTransforms=mo(t.inputTransforms),s.declaredInputs=mo(t.declaredInputs),s.outputs=mo(t.outputs);let a=o.hostBindings;a&&$_(t,a);let u=o.viewQuery,c=o.contentQueries;if(u&&L_(t,u),c&&j_(t,c),P_(t,o),wm(t.outputs,o.outputs),lt(o)&&o.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===k_&&(n=!1)}}e=Object.getPrototypeOf(e)}F_(r)}function P_(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=e.inputTransforms[o]}}}function F_(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Xn(o.hostAttrs,n=Xn(n,o.hostAttrs))}}function mo(t){return t===_n?{}:t===fe?[]:t}function L_(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function j_(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function $_(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function V_(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}t.inputTransforms=n}var ft=class{},_a=class{};var Ea=class extends ft{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uo(this);let o=bd(e);this._bootstrapComponents=bf(o.bootstrap),this._r3Injector=ff(e,n,[{provide:ft,useValue:this},{provide:di,useValue:this.componentFactoryResolver},...r],ae(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ba=class extends _a{constructor(e){super(),this.moduleType=e}create(e){return new Ea(this.moduleType,e,[])}};var Ho=class extends ft{constructor(e){super(),this.componentFactoryResolver=new Uo(this),this.instance=null;let n=new er([...e.providers,{provide:ft,useValue:this},{provide:di,useValue:this.componentFactoryResolver}],e.parent||Qo(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function U_(t,e,n=null){return new Ho({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ih=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sh(t){return H_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function B_(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function H_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Mn(t,e,n){return t[e]=n}function ah(t,e){return t[e]}function Oe(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sr(t,e,n,r){let o=Oe(t,e,n);return Oe(t,e+1,r)||o}function uh(t,e,n,r,o){let i=sr(t,e,n,r);return Oe(t,e+2,o)||i}function ch(t,e,n,r,o,i){let s=sr(t,e,n,r);return sr(t,e+2,o,i)||s}function q_(t){return(t.flags&32)===32}function W_(t,e,n,r,o,i,s,a,u){let c=e.consts,l=xn(e,t,4,s||null,In(c,a));au(e,n,l,In(c,u)),ii(e,l);let d=l.tView=su(2,l,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function G_(t,e,n,r,o,i,s,a){let u=x(),c=J(),l=t+me,d=c.firstCreatePass?W_(l,c,u,e,n,r,o,i,s):c.data[l];Bt(d,!1);let h=z_(c,u,d,t);ri()&&si(c,u,h,d),dt(h,u);let f=Bf(h,u,h,d);return u[l]=f,ci(u,f),__(f,d,u),ei(d)&&ou(c,u,d),s!=null&&iu(u,d,a),G_}var z_=K_;function K_(t,e,n,r){return oi(!0),e[Y].createComment("")}function Y_(t,e,n,r){let o=x(),i=ti();if(Oe(o,i,e)){let s=J(),a=Ka();Sw(a,o,t,e,n,r)}return Y_}function lh(t,e,n,r){return Oe(t,ti(),n)?e+qe(n)+r:he}function J_(t,e,n,r,o,i){let s=zd(),a=sr(t,s,n,o);return ni(2),a?e+qe(n)+r+qe(o)+i:he}function Q_(t,e,n,r,o,i,s,a){let u=zd(),c=uh(t,u,n,o,s);return ni(3),c?e+qe(n)+r+qe(o)+i+qe(s)+a:he}function yo(t,e){return t<<17|e<<2}function Ut(t){return t>>17&32767}function Z_(t){return(t&2)==2}function X_(t,e){return t&131071|e<<17}function Da(t){return t|2}function Cn(t){return(t&131068)>>2}function Os(t,e){return t&-131069|e<<2}function eE(t){return(t&1)===1}function Ia(t){return t|1}function tE(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Ut(s),u=Cn(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||cr(d,l)>0)&&(c=!0)}else l=n;if(o)if(u!==0){let h=Ut(t[a+1]);t[r+1]=yo(h,a),h!==0&&(t[h+1]=Os(t[h+1],r)),t[a+1]=X_(t[a+1],r)}else t[r+1]=yo(a,0),a!==0&&(t[a+1]=Os(t[a+1],r)),a=r;else t[r+1]=yo(u,0),a===0?a=r:t[u+1]=Os(t[u+1],r),u=r;c&&(t[r+1]=Da(t[r+1])),zl(t,l,r,!0),zl(t,l,r,!1),nE(e,l,t,r,i),s=yo(a,u),i?e.classBindings=s:e.styleBindings=s}function nE(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&cr(i,e)>=0&&(n[r+1]=Ia(n[r+1]))}function zl(t,e,n,r){let o=t[n+1],i=e===null,s=r?Ut(o):Cn(o),a=!1;for(;s!==0&&(a===!1||i);){let u=t[s],c=t[s+1];rE(u,e)&&(a=!0,t[s+1]=r?Ia(c):Da(c)),s=r?Ut(c):Cn(c)}a&&(t[n+1]=r?Da(o):Ia(o))}function rE(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?cr(t,e)>=0:!1}var Se={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oE(t){return t.substring(Se.key,Se.keyEnd)}function iE(t){return sE(t),dh(t,fh(t,0,Se.textEnd))}function dh(t,e){let n=Se.textEnd;return n===e?-1:(e=Se.keyEnd=aE(t,Se.key=e,n),fh(t,e,n))}function sE(t){Se.key=0,Se.keyEnd=0,Se.value=0,Se.valueEnd=0,Se.textEnd=t.length}function fh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function aE(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function uE(t,e,n){let r=x(),o=ti();if(Oe(r,o,e)){let i=J(),s=Ka();$f(i,s,r,t,e,r[Y],n,!1)}return uE}function Ca(t,e,n,r,o){let i=e.inputs,s=o?"class":"style";uu(t,n,i[s],s,r)}function hh(t,e,n){return gh(t,e,n,!1),hh}function cE(t,e){return gh(t,e,null,!0),cE}function pM(t){mh(gE,ph,t,!0)}function ph(t,e){for(let n=iE(e);n>=0;n=dh(e,n))Yo(t,oE(e),!0)}function gh(t,e,n,r){let o=x(),i=J(),s=ni(2);if(i.firstUpdatePass&&vh(i,t,s,r),e!==he&&Oe(o,s,e)){let a=i.data[Ye()];wh(i,a,o,o[Y],t,o[s+1]=yE(e,n),r,s)}}function mh(t,e,n,r){let o=J(),i=ni(2);o.firstUpdatePass&&vh(o,null,i,r);let s=x();if(n!==he&&Oe(s,i,n)){let a=o.data[Ye()];if(_h(a,r)&&!yh(o,i)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=js(u,n||"")),Ca(o,a,s,n,r)}else mE(o,a,s,s[Y],s[i+1],s[i+1]=pE(t,e,n),r,i)}}function yh(t,e){return e>=t.expandoStartIndex}function vh(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[Ye()],s=yh(t,n);_h(i,r)&&e===null&&!s&&(e=!1),e=lE(o,i,e,r),tE(o,i,e,n,s,r)}}function lE(t,e,n,r){let o=Gy(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Rs(null,t,e,n,r),n=ar(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Rs(o,t,e,n,r),i===null){let u=dE(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Rs(null,t,e,u[1],r),u=ar(u,e.attrs,r),fE(t,e,r,u))}else i=hE(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function dE(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Cn(r)!==0)return t[Ut(r)]}function fE(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[Ut(o)]=r}function hE(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=ar(r,s,n)}return ar(r,e.attrs,n)}function Rs(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=ar(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ar(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Yo(t,s,n?!0:e[++i]))}return t===void 0?null:t}function pE(t,e,n){if(n==null||n==="")return fe;let r=[],o=fr(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&t(r,i,o[i]);else typeof o=="string"&&e(r,o);return r}function gE(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Yo(t,r,n)}function mE(t,e,n,r,o,i,s,a){o===he&&(o=fe);let u=0,c=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=u<o.length?o[u+1]:void 0,f=c<i.length?i[c+1]:void 0,g=null,m;l===d?(u+=2,c+=2,h!==f&&(g=d,m=f)):d===null||l!==null&&l<d?(u+=2,g=l):(c+=2,g=d,m=f),g!==null&&wh(t,e,n,r,g,m,s,a),l=u<o.length?o[u]:null,d=c<i.length?i[c]:null}}function wh(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=eE(c)?Kl(u,e,n,o,Cn(c),s):void 0;if(!qo(l)){qo(i)||Z_(c)&&(i=Kl(u,null,n,o,a,s));let d=$d(Ye(),n);ow(r,s,d,o,i)}}function Kl(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let u=t[o],c=Array.isArray(u),l=c?u[1]:u,d=l===null,h=n[o+1];h===he&&(h=d?fe:void 0);let f=d?bs(h,r):l===r?h:void 0;if(c&&!qo(f)&&(f=bs(u,r)),qo(f)&&(a=f,s))return a;let g=t[o+1];o=s?Ut(g):Cn(g)}if(e!==null){let u=i?e.residualClasses:e.residualStyles;u!=null&&(a=bs(u,r))}return a}function qo(t){return t!==void 0}function yE(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ae(fr(t)))),t}function _h(t,e){return(t.flags&(e?8:16))!==0}function gM(t,e,n){let r=x(),o=lh(r,t,e,n);mh(Yo,ph,o,!0)}function vE(t,e,n,r,o,i){let s=e.consts,a=In(s,o),u=xn(e,t,2,r,a);return au(e,n,u,In(s,i)),u.attrs!==null&&Vo(u,u.attrs,!1),u.mergedAttrs!==null&&Vo(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Eh(t,e,n,r){let o=x(),i=J(),s=me+t,a=o[Y],u=i.firstCreatePass?vE(s,i,o,e,n,r):i.data[s],c=_E(i,o,u,a,e,t);o[s]=c;let l=ei(u);return Bt(u,!0),Rf(a,c,u),!q_(u)&&ri()&&si(i,o,c,u),Py()===0&&dt(c,o),Fy(),l&&(ou(i,o,u),ru(i,u,o)),r!==null&&iu(o,u),Eh}function bh(){let t=re();Ha()?qa():(t=t.parent,Bt(t,!1));let e=t;jy(e)&&$y(),Ly();let n=J();return n.firstCreatePass&&(ii(n,t),Va(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Xy(e)&&Ca(n,e,x(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ev(e)&&Ca(n,e,x(),e.stylesWithoutHost,!1),bh}function wE(t,e,n,r){return Eh(t,e,n,r),bh(),wE}var _E=(t,e,n,r,o,i)=>(oi(!0),Df(r,o,Yy()));function EE(t,e,n,r,o){let i=e.consts,s=In(i,r),a=xn(e,t,8,"ng-container",s);s!==null&&Vo(a,s,!0);let u=In(i,o);return au(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function bE(t,e,n){let r=x(),o=J(),i=t+me,s=o.firstCreatePass?EE(i,o,r,e,n):o.data[i];Bt(s,!0);let a=IE(o,r,s,t);return r[i]=a,ri()&&si(o,r,a,s),dt(a,r),ei(s)&&(ou(o,r,s),ru(o,s,r)),n!=null&&iu(r,s),bE}function DE(){let t=re(),e=J();return Ha()?qa():(t=t.parent,Bt(t,!1)),e.firstCreatePass&&(ii(e,t),Va(t)&&e.queries.elementEnd(t)),DE}var IE=(t,e,n,r)=>(oi(!0),Bv(e[Y],""));function mM(){return x()}var St=void 0;function CE(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var TE=["en",[["a","p"],["AM","PM"],St],[["AM","PM"],St,St],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],St,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],St,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",St,"{1} 'at' {0}",St],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",CE],ks={};function yu(t){let e=SE(t),n=Yl(e);if(n)return n;let r=e.split("-")[0];if(n=Yl(r),n)return n;if(r==="en")return TE;throw new F(701,!1)}function Yl(t){return t in ks||(ks[t]=Fe.ng&&Fe.ng.common&&Fe.ng.common.locales&&Fe.ng.common.locales[t]),ks[t]}var Nn=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Nn||{});function SE(t){return t.toLowerCase().replace(/_/g,"-")}var Wo="en-US";var xE=Wo;function AE(t){typeof t=="string"&&(xE=t.toLowerCase().replace(/_/g,"-"))}function ME(t,e,n,r){let o=x(),i=J(),s=re();return Dh(i,o,o[Y],s,t,e,r),ME}function NE(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[nr],u=o[i+2];return a.length>u?a[u]:null}typeof s=="string"&&(i+=2)}return null}function Dh(t,e,n,r,o,i,s){let a=ei(r),c=t.firstCreatePass&&Wf(t),l=e[Ae],d=qf(e),h=!0;if(r.type&3||s){let m=_e(r,e),y=s?s(m):m,v=d.length,S=s?_=>s($e(_[r.index])):r.index,E=null;if(!s&&a&&(E=NE(t,e,o,r.index)),E!==null){let _=E.__ngLastListenerFn__||E;_.__ngNextListenerFn__=i,E.__ngLastListenerFn__=i,h=!1}else{i=Ql(r,e,l,i,!1);let _=n.listen(y,o,i);d.push(i,_),c&&c.push(o,S,v,v+1)}}else i=Ql(r,e,l,i,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[o])){let m=g.length;if(m)for(let y=0;y<m;y+=2){let v=g[y],S=g[y+1],R=e[v][S].subscribe(i),K=d.length;d.push(i,R),c&&c.push(o,r.index,K,-(K+1))}}}function Jl(t,e,n,r){let o=L(null);try{return Le(6,e,n),n(r)!==!1}catch(i){return Gf(t,i),!1}finally{Le(7,e,n),L(o)}}function Ql(t,e,n,r,o){return function i(s){if(s===Function)return r;let a=t.componentOffset>-1?ht(t.index,e):e;du(a);let u=Jl(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)u=Jl(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return o&&u===!1&&s.preventDefault(),u}}function yM(t=1){return Ky(t)}function OE(t,e){let n=null,r=Qm(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?vd(t,i,!0):ey(r,i))return o}return n}function vM(t){let e=x()[Ne][ye];if(!e.projection){let n=t?t.length:1,r=e.projection=Bm(n,null),o=r.slice(),i=e.child;for(;i!==null;){let s=t?OE(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function wM(t,e=0,n){let r=x(),o=J(),i=xn(o,me+t,16,null,n||null);i.projection===null&&(i.projection=e),qa(),(!r[tr]||Wd())&&(i.flags&32)!==32&&nw(o,r,i)}function _M(t,e,n,r){x_(t,e,n,r)}function EM(t,e,n){S_(t,e,n)}function bM(t){let e=x(),n=J(),r=Kd();Wa(r+1);let o=mu(n,r);if(t.dirty&&My(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=N_(e,r);t.reset(i,pv),t.notifyOnChanges()}return!0}return!1}function DM(){return T_(x(),Kd())}function RE(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function IM(t){let e=Uy();return Ud(e,me+t)}function CM(t,e=""){let n=x(),r=J(),o=t+me,i=r.firstCreatePass?xn(r,o,1,e,null):r.data[o],s=kE(r,n,i,e,t);n[o]=s,ri()&&si(r,n,s,i),Bt(i,!1)}var kE=(t,e,n,r,o)=>(oi(!0),Vv(e[Y],r));function PE(t){return Ih("",t,""),PE}function Ih(t,e,n){let r=x(),o=lh(r,t,e,n);return o!==he&&cu(r,Ye(),o),Ih}function FE(t,e,n,r,o){let i=x(),s=J_(i,t,e,n,r,o);return s!==he&&cu(i,Ye(),s),FE}function LE(t,e,n,r,o,i,s){let a=x(),u=Q_(a,t,e,n,r,o,i,s);return u!==he&&cu(a,Ye(),u),LE}function jE(t,e,n){oh(e)&&(e=e());let r=x(),o=ti();if(Oe(r,o,e)){let i=J(),s=Ka();$f(i,s,r,t,e,r[Y],n,!1)}return jE}function TM(t,e){let n=oh(t);return n&&t.set(e),n}function $E(t,e){let n=x(),r=J(),o=re();return Dh(r,n,n[Y],o,t,e),$E}function VE(t,e,n){let r=J();if(r.firstCreatePass){let o=lt(t);Ta(n,r.data,r.blueprint,o,!0),Ta(e,r.data,r.blueprint,o,!1)}}function Ta(t,e,n,r,o){if(t=se(t),Array.isArray(t))for(let i=0;i<t.length;i++)Ta(t[i],e,n,r,o);else{let i=J(),s=x(),a=re(),u=En(t)?t:se(t.provide),c=Ad(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(En(t)||!t.multi){let f=new Pt(c,o,ve),g=Fs(u,e,o?l:l+h,d);g===-1?(Js(Ro(a,s),i,u),Ps(i,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Fs(u,e,l+h,d),g=Fs(u,e,l,l+h),m=f>=0&&n[f],y=g>=0&&n[g];if(o&&!y||!o&&!m){Js(Ro(a,s),i,u);let v=HE(o?BE:UE,n.length,o,r,c);!o&&y&&(n[g].providerFactory=v),Ps(i,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else{let v=Ch(n[o?g:f],c,!o&&r);Ps(i,t,f>-1?f:g,v)}!o&&r&&y&&n[g].componentProviders++}}}function Ps(t,e,n,r){let o=En(e),i=hy(e);if(o||i){let u=(i?se(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Ch(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fs(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function UE(t,e,n,r){return Sa(this.multi,[])}function BE(t,e,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ft(n,n[N],this.providerFactory.index,r);i=a.slice(0,s),Sa(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Sa(o,i);return i}function Sa(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function HE(t,e,n,r,o){let i=new Pt(t,n,ve);return i.multi=[],i.index=e,i.componentProviders=0,Ch(i,o,r&&!n),i}function SM(t,e=[]){return n=>{n.providersResolver=(r,o)=>VE(r,o?o(t):t,e)}}var qE=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Cd(!1,n.type),o=r.length>0?U_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(ne(ct))})}}return t})();function xM(t){hu("NgStandalone"),t.getStandaloneInjector=e=>e.get(qE).getOrCreateStandaloneInjector(t)}function AM(t,e,n){let r=Ht()+t,o=x();return o[r]===he?Mn(o,r,n?e.call(n):e()):ah(o,r)}function MM(t,e,n,r){return Th(x(),Ht(),t,e,n,r)}function NM(t,e,n,r,o){return WE(x(),Ht(),t,e,n,r,o)}function OM(t,e,n,r,o,i){return GE(x(),Ht(),t,e,n,r,o,i)}function RM(t,e,n,r,o,i,s){return zE(x(),Ht(),t,e,n,r,o,i,s)}function kM(t,e,n,r,o,i,s,a){let u=Ht()+t,c=x(),l=ch(c,u,n,r,o,i);return Oe(c,u+4,s)||l?Mn(c,u+5,a?e.call(a,n,r,o,i,s):e(n,r,o,i,s)):ah(c,u+5)}function fi(t,e){let n=t[e];return n===he?void 0:n}function Th(t,e,n,r,o,i){let s=e+n;return Oe(t,s,o)?Mn(t,s+1,i?r.call(i,o):r(o)):fi(t,s+1)}function WE(t,e,n,r,o,i,s){let a=e+n;return sr(t,a,o,i)?Mn(t,a+2,s?r.call(s,o,i):r(o,i)):fi(t,a+2)}function GE(t,e,n,r,o,i,s,a){let u=e+n;return uh(t,u,o,i,s)?Mn(t,u+3,a?r.call(a,o,i,s):r(o,i,s)):fi(t,u+3)}function zE(t,e,n,r,o,i,s,a,u){let c=e+n;return ch(t,c,o,i,s,a)?Mn(t,c+4,u?r.call(u,o,i,s,a):r(o,i,s,a)):fi(t,c+4)}function PM(t,e){let n=J(),r,o=t+me;n.firstCreatePass?(r=KE(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=Nt(r.type,!0)),s,a=de(ve);try{let u=Oo(!1),c=i();return Oo(u),RE(n,x(),o,c),c}finally{de(a)}}function KE(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function FM(t,e,n){let r=t+me,o=x(),i=Ud(o,r);return YE(o,r)?Th(o,Ht(),e,i.transform,n,i):i.transform(n)}function YE(t,e){return t[N].data[e].pure}function LM(t,e){return li(t,e)}var jM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var JE=new q("");function vu(t){return!!t&&typeof t.then=="function"}function Sh(t){return!!t&&typeof t.subscribe=="function"}var QE=new q(""),xh=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=$(QE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=o();if(vu(i))n.push(i);else if(Sh(i)){let s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZE=new q("");function XE(){yl(()=>{throw new F(600,!1)})}function eb(t){return t.isBoundToModule}function tb(t,e,n){try{let r=n();return vu(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ah=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(hf),this.afterRenderEffectManager=$(gu),this.externalTestViews=new Set,this.beforeRender=new it,this.afterTick=new it,this.componentTypes=[],this.components=[],this.isStable=$(ih).hasPendingTasks.pipe(Pe(n=>!n)),this._injector=$(ct)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof $o;if(!this._injector.get(xh).done){let h=!o&&sy(n),f=!1;throw new F(405,f)}let s;o?s=n:s=this._injector.get(di).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=eb(s)?void 0:this._injector.get(ft),u=r||s.selector,c=s.create(dr.NULL,[],u,a),l=c.location.nativeElement,d=c.injector.get(JE,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Ls(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new F(101,!1);let r=L(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,L(r)}}detectChangesInAttachedViews(n){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===Kf)throw new F(103,!1);if(n){let i=r===0;this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:a}of this._views)nb(s,i,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>xa(i))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>xa(i))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ls(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(ZE,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ls(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ls(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nb(t,e,n){!e&&!xa(t)||rb(t,n,e)}function xa(t){return Ba(t)}function rb(t,e,n){let r;n?(r=0,t[T]|=1024):t[T]&64?r=0:r=1,Yf(t,e,r)}var Aa=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$M=(()=>{class t{compileModuleSync(n){return new ba(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=bd(n),i=bf(o.declarations).reduce((s,a)=>{let u=We(a);return u&&s.push(new Vt(u)),s},[]);return new Aa(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ob=(()=>{class t{constructor(){this.zone=$(we),this.applicationRef=$(Ah)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ib(t){return[{provide:we,useFactory:t},{provide:So,multi:!0,useFactory:()=>{let e=$(ob,{optional:!0});return()=>e.initialize()}},{provide:So,multi:!0,useFactory:()=>{let e=$(cb);return()=>{e.initialize()}}},{provide:hf,useFactory:sb}]}function sb(){let t=$(we),e=$(Lt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function ab(t){let e=ib(()=>new we(ub(t)));return uy([[],e])}function ub(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var cb=(()=>{class t{constructor(){this.subscription=new Q,this.initialized=!1,this.zone=$(we),this.pendingTasks=$(ih)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lb(){return typeof $localize<"u"&&$localize.locale||Wo}var hi=new q("",{providedIn:"root",factory:()=>$(hi,k.Optional|k.SkipSelf)||lb()});var Mh=new q("");var Do=null;function db(t=[],e){return dr.create({name:e,providers:[{provide:xd,useValue:"platform"},{provide:Mh,useValue:new Set([()=>Do=null])},...t]})}function fb(t=[]){if(Do)return Do;let e=db(t);return Do=e,XE(),hb(e),e}function hb(t){t.get(bv,null)?.forEach(n=>n())}var Nh=(()=>{class t{static{this.__NG_ELEMENT_ID__=pb}}return t})();function pb(t){return gb(re(),x(),(t&16)===16)}function gb(t,e,n){if(Xo(t)&&!n){let r=ht(t.index,e);return new jt(r,r)}else if(t.type&47){let r=e[Ne];return new jt(r,e)}return null}var Ma=class{constructor(){}supports(e){return sh(e)}create(e){return new Na(e)}},mb=(t,e)=>e,Na=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mb}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Zl(r,o,i)?n:r,a=Zl(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let c=a-o,l=u-o;if(c!=l){for(let h=0;h<c;h++){let f=h<i.length?i[h]:i[h]=0,g=f+h;l<=g&&g<c&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!sh(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,B_(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new Oa(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Go),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Go),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Oa=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ra=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Go=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ra,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Zl(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function Xl(){return new wu([new Ma])}var wu=(()=>{class t{static{this.\u0275prov=W({token:t,providedIn:"root",factory:Xl})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Xl()),deps:[[t,new $m,new jm]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new F(901,!1)}}return t})();function VM(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=fb(r),i=[ab(),...n||[]],a=new Ho({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(we);return u.run(()=>{a.resolveInjectorInitializers();let c=a.get(Lt,null),l;u.runOutsideAngular(()=>{l=u.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=o.get(Mh);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),tb(c,u,()=>{let f=a.get(xh);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(hi,Wo);AE(g||Wo);let m=a.get(Ah);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function yb(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function UM(t,e){let n=We(t),r=e.elementInjector||Qo();return new Vt(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function BM(t){let e=We(t);if(!e)return null;let n=new Vt(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Uh=null;function _u(){return Uh}function dN(t){Uh??=t}var Rh=class{};var xu=new q(""),Au=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:()=>$(vb),providedIn:"platform"})}}return t})(),fN=new q(""),vb=(()=>{class t extends Au{constructor(){super(),this._doc=$(xu),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _u().getBaseHref(this._doc)}onPopState(n){let r=_u().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=_u().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Mu(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function kh(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Je(t){return t&&t[0]!=="?"?"?"+t:t}var gi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:()=>$(wb),providedIn:"root"})}}return t})(),Bh=new q(""),wb=(()=>{class t extends gi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(xu).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Mu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Je(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Je(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Je(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ne(Au),ne(Bh,8))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hN=(()=>{class t extends gi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Mu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Je(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Je(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ne(Au),ne(Bh,8))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})(),_b=(()=>{class t{constructor(n){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Db(kh(Ph(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Je(r))}normalize(n){return t.stripTrailingSlash(bb(this._basePath,Ph(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Je(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Je(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=Je}static{this.joinWithSlash=Mu}static{this.stripTrailingSlash=kh}static{this.\u0275fac=function(r){return new(r||t)(ne(gi))}}static{this.\u0275prov=W({token:t,factory:()=>Eb(),providedIn:"root"})}}return t})();function Eb(){return new _b(ne(gi))}function bb(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ph(t){return t.replace(/\/index.html$/,"")}function Db(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Hh=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Hh||{});var Qe={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hr(t,e){let n=yu(t),r=n[Nn.NumberSymbols][e];if(typeof r>"u"){if(e===Qe.CurrencyDecimal)return n[Nn.NumberSymbols][Qe.Decimal];if(e===Qe.CurrencyGroup)return n[Nn.NumberSymbols][Qe.Group]}return r}function Ib(t,e){return yu(t)[Nn.NumberFormats][e]}var Cb=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Fh=22,pi=".",pr="0",Tb=";",Sb=",",Eu="#";function xb(t,e,n,r,o,i,s=!1){let a="",u=!1;if(!isFinite(t))a=hr(n,Qe.Infinity);else{let c=Ob(t);s&&(c=Nb(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(i){let S=i.match(Cb);if(S===null)throw new Error(`${i} is not a valid digit info`);let E=S[1],_=S[3],R=S[5];E!=null&&(l=bu(E)),_!=null&&(d=bu(_)),R!=null?h=bu(R):_!=null&&d>h&&(h=d)}Rb(c,d,h);let f=c.digits,g=c.integerLen,m=c.exponent,y=[];for(u=f.every(S=>!S);g<l;g++)f.unshift(0);for(;g<0;g++)f.unshift(0);g>0?y=f.splice(g,f.length):(y=f,f=[0]);let v=[];for(f.length>=e.lgSize&&v.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)v.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(hr(n,r)),y.length&&(a+=hr(n,o)+y.join("")),m&&(a+=hr(n,Qe.Exponential)+"+"+m)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Ab(t,e,n){let r=Ib(e,Hh.Decimal),o=Mb(r,hr(e,Qe.MinusSign));return xb(t,o,e,Qe.Group,Qe.Decimal,n)}function Mb(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Tb),o=r[0],i=r[1],s=o.indexOf(pi)!==-1?o.split(pi):[o.substring(0,o.lastIndexOf(pr)+1),o.substring(o.lastIndexOf(pr)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Eu));for(let l=0;l<u.length;l++){let d=u.charAt(l);d===pr?n.minFrac=n.maxFrac=l+1:d===Eu?n.maxFrac=l+1:n.posSuf+=d}let c=a.split(Sb);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,i){let l=o.length-n.posPre.length-n.posSuf.length,d=i.indexOf(Eu);n.negPre=i.substring(0,d).replace(/'/g,""),n.negSuf=i.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Nb(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function Ob(t){let e=Math.abs(t)+"",n=0,r,o,i,s,a;for((o=e.indexOf(pi))>-1&&(e=e.replace(pi,"")),(i=e.search(/e/i))>0?(o<0&&(o=i),o+=+e.slice(i+1),e=e.substring(0,i)):o<0&&(o=e.length),i=0;e.charAt(i)===pr;i++);if(i===(a=e.length))r=[0],o=1;else{for(a--;e.charAt(a)===pr;)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(e.charAt(i))}return o>Fh&&(r=r.splice(0,Fh-1),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}function Rb(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,o=r.length-t.integerLen,i=Math.min(Math.max(e,o),n),s=i+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let u=i!==0,c=e+t.integerLen,l=r.reduceRight(function(d,h,f,g){return h=h+d,g[f]=h<10?h:h-10,u&&(g[f]===0&&f>=c?g.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}function bu(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function pN(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Du=/\s+/,Lh=[],gN=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Lh,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Du):Lh}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Du):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Du).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(r){return new(r||t)(ve(qt),ve(fu))}}static{this.\u0275dir=Jo({type:t,selectors:[["","ngClass",""]],inputs:{klass:[ut.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Iu=class{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},mN=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Iu(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),jh(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);jh(i,o)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ve(An),ve($t),ve(wu))}}static{this.\u0275dir=Jo({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function jh(t,e){t.context.$implicit=e.item}var yN=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Cu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$h("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$h("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ve(An),ve($t))}}static{this.\u0275dir=Jo({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Cu=class{constructor(){this.$implicit=null,this.ngIf=null}};function $h(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ae(e)}'.`)}function qh(t,e){return new F(2100,!1)}var kb=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,vN=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw qh(t,n);return n.replace(kb,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=La({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();var wN=(()=>{class t{constructor(n){this._locale=n}transform(n,r,o){if(!Pb(n))return null;o||=this._locale;try{let i=Fb(n);return Ab(i,o,r)}catch(i){throw qh(t,i.message)}}static{this.\u0275fac=function(r){return new(r||t)(ve(hi,16))}}static{this.\u0275pipe=La({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function Pb(t){return!(t==null||t===""||t!==t)}function Fb(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var _N=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=wd({type:t})}static{this.\u0275inj=id({})}}return t})(),Lb="browser",jb="server";function $b(t){return t===Lb}function EN(t){return t===jb}var bN=(()=>{class t{static{this.\u0275prov=W({token:t,providedIn:"root",factory:()=>$b($(Qa))?new Tu($(xu),window):new Su})}}return t})(),Tu=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Vb(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function Vb(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}var Su=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Vh=class{};B();var Wh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MXHTO7MR.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var gr=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},mr=class extends gr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},yr=class extends gr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},vr=class extends gr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Nu=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(Nu||{});var wr=class{constructor(e,{headers:n={},customFetch:r,region:o=Nu.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Wh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return w(this,arguments,void 0,function*(n,r={}){var o;try{let{headers:i,method:s,body:a,signal:u}=r,c={},{region:l}=r;l||(l=this.region);let d=new URL(`${this.url}/${n}`);l&&l!=="any"&&(c["x-region"]=l,d.searchParams.set("forceFunctionRegion",l));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;let f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:u}).catch(v=>{throw v.name==="AbortError"?v:new mr(v)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new yr(f);if(!f.ok)throw new vr(f);let m=((o=f.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"||m==="application/pdf"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new mr(i)}:{data:null,error:i,response:i instanceof vr||i instanceof yr?i.context:void 0}}})}};var Ku=dg(tp(),1),{PostgrestClient:np,PostgrestQueryBuilder:UN,PostgrestFilterBuilder:BN,PostgrestTransformBuilder:HN,PostgrestBuilder:qN,PostgrestError:Qb}=Ku.default||Ku;var Yu=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},Ju=Yu;var rp="2.78.0";var op=`realtime-js/${rp}`,ip="1.0.0";var Er=1e4,sp=1e3,ap=100,br=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(br||{}),Z=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(Z||{}),Ee=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(Ee||{}),Qu=function(t){return t.websocket="websocket",t}(Qu||{}),Wt=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(Wt||{});var yi=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let u=r.decode(e.slice(s,s+i));s=s+i;let c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}};var Rn=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var H=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(H||{}),Xu=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=Zb(s,t,e,o),i),{}):{}},Zb=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?up(i,s):Zu(s)},up=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return nD(e,n)}switch(t){case H.bool:return Xb(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return eD(e);case H.json:case H.jsonb:return tD(e);case H.timestamp:return rD(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Zu(e);default:return Zu(e)}},Zu=t=>t,Xb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eD=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tD=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nD=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>up(e,a))}return t},rD=t=>typeof t=="string"?t.replace(" ","T"):t,vi=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var kn=class{constructor(e,n,r={},o=Er){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Dr=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(u=>{this.state=t.syncDiff(this.state,u,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},u={};return this.map(i,(c,l)=>{s[c]||(u[c]=l)}),this.map(s,(c,l)=>{let d=i[c];if(d){let h=l.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=l.filter(y=>f.indexOf(y.presence_ref)<0),m=d.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(u[c]=m)}else a[c]=l}),this.syncDiff(i,{joins:a,leaves:u},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,u)=>{var c;let l=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),l.length>0){let d=e[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,l,u)}),this.map(s,(a,u)=>{let c=e[a];if(!c)return;let l=u.map(d=>d.presence_ref);c=c.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=c,o(a,c,u),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ir=function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t}(Ir||{}),Ze=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(Ze||{});var Cr=class t{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Z.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kn(this,Ee.join,this.params,this.timeout),this.rejoinTimer=new Rn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Z.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Z.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ee.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Dr(this),this.broadcastEndpointURL=vi(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Z.closed){let{config:{broadcast:s,presence:a,private:u}}=this.params,c=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[Ir.PRESENCE]&&this.bindings[Ir.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Ze.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Ze.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>p(this,[g],function*({postgres_changes:f}){var m;if(this.socket.setAuth(),f===void 0){e?.(Ze.SUBSCRIBED);return}else{let y=this.bindings.postgres_changes,v=(m=y?.length)!==null&&m!==void 0?m:0,S=[];for(let E=0;E<v;E++){let _=y[E],{filter:{event:R,schema:K,table:P,filter:G}}=_,Re=f&&f[E];if(Re&&Re.event===R&&Re.schema===K&&Re.table===P&&Re.filter===G)S.push(Object.assign(Object.assign({},_),{id:Re.id}));else{this.unsubscribe(),this.state=Z.errored,e?.(Ze.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Ze.SUBSCRIBED);return}})).receive("error",f=>{this.state=Z.errored,e?.(Ze.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ze.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this.state===Z.joined&&e===Ir.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}httpSend(o,i){return p(this,arguments,function*(e,n,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let l=c.statusText;try{let d=yield c.json();l=d.error||d.message||l}catch{}return Promise.reject(new Error(l))})}send(r){return p(this,arguments,function*(e,n={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=l.body)===null||i===void 0?void 0:i.cancel(),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,u,c;let l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Z.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ee.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new kn(this,Ee.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Z.closed,this.bindings={}}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new kn(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ap){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:l}=Ee;if(r&&[a,u,c,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,m,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,m,y,v,S,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let _=f.id,R=(g=f.filter)===null||g===void 0?void 0:g.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(R==="*"||R?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let _=(S=(v=f?.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return _==="*"||_===((E=n?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:m,table:y,commit_timestamp:v,type:S,errors:E}=g;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:S,new:{},old:{},errors:E}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===Z.closed}_isJoined(){return this.state===Z.joined}_isJoining(){return this.state===Z.joining}_isLeaving(){return this.state===Z.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ee.close,{},e)}_onError(e){this._on(Ee.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Z.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Xu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Xu(e.columns,e.old_record)),n}};var ec=()=>{},wi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iD=[1e3,2e3,5e3,1e4],sD=1e4,aD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Tr=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Er,this.transport=null,this.heartbeatIntervalMs=wi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ec,this.ref=0,this.reconnectTimer=null,this.logger=ec,this.conn=null,this.sendBuffer=[],this.serializer=new yi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-MXHTO7MR.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Qu.websocket}`,this.httpEndpoint=vi(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ju.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ip}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case br.connecting:return Wt.Connecting;case br.open:return Wt.Open;case br.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Cr(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return p(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sp,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${o} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ee.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([aD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(e=null){return p(this,null,function*(){let n;e?n=e:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:op};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Ee.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Rn(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),wi.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,s,a,u,c,l;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Er,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:wi.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:ec,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:d=>iD[d-1]||sD,this.encode=(c=e?.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(l=e?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};B();var Pn=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function V(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var _i=class extends Pn{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gt=class extends Pn{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};B();B();var Fn=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MXHTO7MR.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cp=()=>w(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MXHTO7MR.js")).Response:Response}),Ei=t=>{if(Array.isArray(t))return t.map(n=>Ei(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Ei(r)}),e},lp=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var tc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},uD=(t,e,n)=>w(void 0,void 0,void 0,function*(){let r=yield cp();t instanceof r&&!n?.noResolveJson?t.json().then(o=>{let i=t.status||500,s=o?.statusCode||i+"";e(new _i(tc(o),i,s))}).catch(o=>{e(new Gt(tc(o),o))}):e(new Gt(tc(t),t))}),cD=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(lp(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Sr(t,e,n,r,o,i){return w(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,cD(e,r,o,i)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>uD(u,a,r))})})}function pt(t,e,n,r){return w(this,void 0,void 0,function*(){return Sr(t,"GET",e,n,r)})}function pe(t,e,n,r,o){return w(this,void 0,void 0,function*(){return Sr(t,"POST",e,r,o,n)})}function xr(t,e,n,r,o){return w(this,void 0,void 0,function*(){return Sr(t,"PUT",e,r,o,n)})}function dp(t,e,n,r){return w(this,void 0,void 0,function*(){return Sr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ln(t,e,n,r,o){return w(this,void 0,void 0,function*(){return Sr(t,"DELETE",e,r,o,n)})}B();B();var bi=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return w(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(V(e))return{data:null,error:e};throw e}})}};var fp,nc=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[fp]="BlobDownloadBuilder",this.promise=null}asStream(){return new bi(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return w(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(V(e))return{data:null,error:e};throw e}})}};fp=Symbol.toStringTag;var hp=nc;var lD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Di=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Fn(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return w(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},pp),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),u=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let c=this._removeEmptyFolders(n),l=this._getFinalPath(c),d=yield(e=="PUT"?xr:pe)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}upload(e,n,r){return w(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return w(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let u,c=Object.assign({upsert:pp.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,l["cache-control"]=`max-age=${c.cacheControl}`,l["content-type"]=c.contentType);let d=yield xr(this.fetch,a.toString(),u,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(V(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return w(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield pe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Pn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(V(r))return{data:null,error:r};throw r}})}update(e,n,r){return w(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return w(this,void 0,void 0,function*(){try{return{data:yield pe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(V(o))return{data:null,error:o};throw o}})}copy(e,n,r){return w(this,void 0,void 0,function*(){try{return{data:{path:(yield pe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(V(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return w(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield pe(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(V(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return w(this,void 0,void 0,function*(){try{let o=yield pe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(V(o))return{data:null,error:o};throw o}})}download(e,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),u=()=>pt(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new hp(u,this.shouldThrowOnError)}info(e){return w(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield pt(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ei(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(V(r))return{data:null,error:r};throw r}})}exists(e){return w(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield dp(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(V(r)&&r instanceof Gt){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&o.push(u);let c=o.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return w(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}list(e,n,r){return w(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},lD),n),{prefix:e||""});return{data:yield pe(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(V(o))return{data:null,error:o};throw o}})}listV2(e,n){return w(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield pe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(V(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};B();var Ii="2.78.0";var Ci={"X-Client-Info":`storage-js/${Ii}`};var Ti=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ci),n),this.fetch=Fn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return w(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield pt(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}getBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}createBucket(e){return w(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield pe(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(V(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return w(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(V(r))return{data:null,error:r};throw r}})}emptyBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield pe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}deleteBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};B();var Si=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ci),n),this.fetch=Fn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield pe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}listBuckets(e){return w(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield pt(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}deleteBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}};B();B();var jn={"X-Client-Info":`storage-js/${Ii}`,"Content-Type":"application/json"};var xi=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function oe(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var $n=class extends xi{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ai=class extends xi{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};B();var Vn=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MXHTO7MR.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var gp=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var mp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dD=(t,e,n)=>w(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let o=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";e(new $n(mp(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new $n(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new $n(a,o,s))}}else e(new Ai(mp(t),t))}),fD=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(gp(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))};function hD(t,e,n,r,o,i){return w(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,fD(e,r,o,i)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;let c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>s(u)).catch(u=>dD(u,a,r))})})}function ie(t,e,n,r,o){return w(this,void 0,void 0,function*(){return hD(t,"POST",e,r,o,n)})}var Mi=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jn),n),this.fetch=Vn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return w(this,void 0,void 0,function*(){try{return{data:(yield ie(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}getIndex(e,n){return w(this,void 0,void 0,function*(){try{return{data:yield ie(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}listIndexes(e){return w(this,void 0,void 0,function*(){try{return{data:yield ie(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return w(this,void 0,void 0,function*(){try{return{data:(yield ie(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}};B();var Ni=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jn),n),this.fetch=Vn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return w(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ie(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}getVectors(e){return w(this,void 0,void 0,function*(){try{return{data:yield ie(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}listVectors(e){return w(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ie(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}queryVectors(e){return w(this,void 0,void 0,function*(){try{return{data:yield ie(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}deleteVectors(e){return w(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ie(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}};B();var Oi=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jn),n),this.fetch=Vn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return w(this,void 0,void 0,function*(){try{return{data:(yield ie(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}getBucket(e){return w(this,void 0,void 0,function*(){try{return{data:yield ie(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}listBuckets(){return w(this,arguments,void 0,function*(e={}){try{return{data:yield ie(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return w(this,void 0,void 0,function*(){try{return{data:(yield ie(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}};var Ar=class extends Oi{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Ri(this.url,this.headers,e,this.fetch)}},Ri=class extends Mi{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return w(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return w(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return w(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return w(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ki(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ki=class extends Ni{constructor(e,n,r,o,i){super(e,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return w(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return w(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return w(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return w(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return w(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Mr=class extends Ti{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new Di(this.url,this.headers,e,this.fetch)}get vectors(){return new Ar(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Si(this.url+"/iceberg",this.headers,this.fetch)}};var yp="2.78.0";var Nr="";typeof Deno<"u"?Nr="deno":typeof document<"u"?Nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nr="react-native":Nr="node";var pD={"X-Client-Info":`supabase-js-${Nr}/${yp}`},vp={headers:pD},wp={schema:"public"},_p={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ep={};vc();var gD=t=>{let e;return t?e=t:typeof fetch>"u"?e=mc:e=fetch,(...n)=>e(...n)},mD=()=>typeof Headers>"u"?yc:Headers,bp=(t,e,n)=>{let r=gD(n),o=mD();return(i,s)=>p(void 0,null,function*(){var a;let u=(a=yield e())!==null&&a!==void 0?a:t,c=new o(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},s),{headers:c}))})};function yD(t){return t.endsWith("/")?t:t+"/"}function Dp(t,e){var n,r;let{db:o,auth:i,realtime:s,global:a}=t,{db:u,auth:c,realtime:l,global:d}=e,h={db:Object.assign(Object.assign({},u),o),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p(this,null,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Ip(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}B();B();var Pi="2.78.0";var zt=30*1e3,Fi=3,Li=Fi*zt,Cp="http://localhost:9999",Tp="supabase.auth.token";var Sp={"X-Client-Info":`gotrue-js/${Pi}`};var Or="X-Supabase-Api-Version",rc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ap=10*60*1e3;var gt=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function b(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var ji=class extends gt{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Mp(t){return b(t)&&t.name==="AuthApiError"}var be=class extends gt{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Ve=class extends gt{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}},ce=class extends Ve{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Np(t){return b(t)&&t.name==="AuthSessionMissingError"}var Xe=class extends Ve{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Kt=class extends Ve{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Yt=class extends Ve{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Op(t){return b(t)&&t.name==="AuthImplicitGrantRedirectError"}var Rr=class extends Ve{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Un=class extends Ve{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function $i(t){return b(t)&&t.name==="AuthRetryableFetchError"}var kr=class extends Ve{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Jt=class extends Ve{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rp=` 	
\r=`.split(""),vD=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rp.length;e+=1)t[Rp[e].charCodeAt(0)]=-2;for(let e=0;e<Vi.length;e+=1)t[Vi[e].charCodeAt(0)]=e;return t})();function kp(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Vi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Vi[r]),e.queuedBits-=6}}function Pp(t,e,n){let r=vD[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function oc(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{ED(s,r,n)};for(let s=0;s<t.length;s+=1)Pp(t.charCodeAt(s),o,i);return e.join("")}function wD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _D(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}wD(r,e)}}function ED(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mt(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Pp(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Fp(t){let e=[];return _D(t,n=>e.push(n)),new Uint8Array(e)}function et(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>kp(o,n,r)),kp(null,n,r),e.join("")}function Lp(t){return Math.round(Date.now()/1e3)+t}function jp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var te=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},Ui=()=>{if(!te())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function $p(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var Bi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MXHTO7MR.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Vp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zt=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),yt=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),tt=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)}),Pr=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Pr.promiseConstructor=Promise;function Hi(t){let e=t.split(".");if(e.length!==3)throw new Jt("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!xp.test(e[r]))throw new Jt("JWT not in base64url format");return{header:JSON.parse(oc(e[0])),payload:JSON.parse(oc(e[1])),signature:mt(e[2]),raw:{header:e[0],payload:e[1]}}}function Up(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function Bp(t,e){return new Promise((r,o)=>{p(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})})}function bD(t){return("0"+t.toString(16)).substr(-2)}function DD(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,bD).join("")}function ID(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function CD(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield ID(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Xt(t,e,n=!1){return p(this,null,function*(){let r=DD(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield Zt(t,`${e}-code-verifier`,o);let i=yield CD(r);return[i,r===i?"plain":"s256"]})}var TD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hp(t){let e=t.headers.get(Or);if(!e||!e.match(TD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qp(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Wp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var SD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function en(t){if(!SD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qi(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gp(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function ic(t){return JSON.parse(JSON.stringify(t))}var tn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xD=[502,503,504];function zp(t){return p(this,null,function*(){var e;if(!Vp(t))throw new Un(tn(t),0);if(xD.includes(t.status))throw new Un(tn(t),t.status);let n;try{n=yield t.json()}catch(i){throw new be(tn(i),i)}let r,o=Hp(t);if(o&&o.getTime()>=rc["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kr(tn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ce}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new kr(tn(n),t.status,n.weak_password.reasons);throw new ji(tn(n),t.status||500,r)})}var AD=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function I(t,e,n,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Or]||(i[Or]=rc["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=yield MD(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}})}function MD(t,e,n,r,o,i){return p(this,null,function*(){let s=AD(e,r,o,i),a;try{a=yield t(n,Object.assign({},s))}catch(u){throw console.error(u),new Un(tn(u),0)}if(a.ok||(yield zp(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(u){yield zp(u)}})}function De(t){var e;let n=null;ND(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Lp(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sc(t){let e=De(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ue(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Kp(t){return{data:t,error:null}}function Yp(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=Be(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},u=Object.assign({},s);return{data:{properties:a,user:u},error:null}}function ac(t){return t}function ND(t){return t.access_token&&t.refresh_token&&t.expires_in}var Wi=["global","local","others"];var Bn=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Bi(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return p(this,arguments,function*(e,n=Wi[0]){if(Wi.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wi.join(", ")}`);try{return yield I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(b(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ue})}catch(o){if(b(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=Be(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Yp,redirectTo:n?.redirectTo})}catch(n){if(b(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ue})}catch(n){if(b(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,o,i,s,a,u;try{let c={nextPage:null,lastPage:0,total:0},l=yield I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ac});if(l.error)throw l.error;let d=yield l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(u=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(b(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return p(this,null,function*(){en(e);try{return yield I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ue})}catch(n){if(b(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){en(e);try{return yield I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ue})}catch(r){if(b(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){en(e);try{return yield I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ue})}catch(r){if(b(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){en(e.userId);try{let{data:n,error:r}=yield I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(b(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){en(e.userId),en(e.id);try{return{data:yield I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(b(n))return{data:null,error:n};throw n}})}_listOAuthClients(e){return p(this,null,function*(){var n,r,o,i,s,a,u;try{let c={nextPage:null,lastPage:0,total:0},l=yield I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ac});if(l.error)throw l.error;let d=yield l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(u=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(b(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(e){return p(this,null,function*(){try{return yield I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(b(n))return{data:null,error:n};throw n}})}_getOAuthClient(e){return p(this,null,function*(){try{return yield I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(b(n))return{data:null,error:n};throw n}})}_updateOAuthClient(e,n){return p(this,null,function*(){try{return yield I(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(b(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return p(this,null,function*(){try{return yield I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(b(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(e){return p(this,null,function*(){try{return yield I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(b(n))return{data:null,error:n};throw n}})}};function uc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var nn={debug:!!(globalThis&&Ui()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Fr=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Gi=class extends Fr{};function cc(t,e,n){return p(this,null,function*(){nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>p(this,null,function*(){if(o){nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return yield n()}finally{nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Gi(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(nn.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function Jp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Qp(t){return parseInt(t,16)}function Zp(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Xp(t){var e;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:u,resources:c,scheme:l,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let f=lc(t.address),g=l?`${l}://${r}`:r,m=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${f}

${m}`,v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(v+=`
Expiration Time: ${o.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),u&&(v+=`
Request ID: ${u}`),c){let S=`
Resources:`;for(let E of c){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);S+=`
- ${E}`}v+=S}return`${y}
${v}`}B();var z=class extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},rn=class extends z{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function eg({error:t,options:e}){var n,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new z({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new z({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new z({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new z({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new z({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new z({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new z({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new z({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(dc(s)){if(i.rp.id!==s)return new z({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new z({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new z({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new z({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new z({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function tg({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new z({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new z({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(dc(r)){if(n.rpId!==r)return new z({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new z({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new z({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new z({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var fc=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},OD=new fc;function rg(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,o=Be(t,["challenge","user","excludeCredentials"]),i=mt(e).buffer,s=Object.assign(Object.assign({},n),{id:mt(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){let c=r[u];a.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:mt(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function og(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=Be(t,["challenge","allowCredentials"]),o=mt(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:mt(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function ig(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:et(new Uint8Array(t.response.attestationObject)),clientDataJSON:et(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:et(new Uint8Array(o.authenticatorData)),clientDataJSON:et(new Uint8Array(o.clientDataJSON)),signature:et(new Uint8Array(o.signature)),userHandle:o.userHandle?et(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ng(){var t,e;return!!(te()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function RD(t){return p(this,null,function*(){try{let e=yield navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rn("Browser returned unexpected credential type",e)}:{data:null,error:new rn("Empty credential response",e)}}catch(e){return{data:null,error:eg({error:e,options:t})}}})}function kD(t){return p(this,null,function*(){try{let e=yield navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rn("Browser returned unexpected credential type",e)}:{data:null,error:new rn("Empty credential response",e)}}catch(e){return{data:null,error:tg({error:e,options:t})}}})}var PD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},FD={userVerification:"preferred",hints:["security-key"]};function zi(...t){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of t)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(e(s)){let a=r[i];e(a)?r[i]=zi(a,s):r[i]=zi(s)}else r[i]=s}return r}function LD(t,e){return zi(PD,t,e||{})}function jD(t,e){return zi(FD,t,e||{})}var Ki=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return p(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(s,a){return p(this,arguments,function*({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{let{data:u,error:c}=yield this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};let l=o??OD.createNewAbortSignal();if(u.webauthn.type==="create"){let{user:d}=u.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(u.webauthn.type){case"create":{let d=LD(u.webauthn.credential_options.publicKey,i?.create),{data:h,error:f}=yield RD({publicKey:d,signal:l});return h?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{let d=jD(u.webauthn.credential_options.publicKey,i?.request),{data:h,error:f}=yield kD(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:d,signal:l}));return h?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(u){return b(u)?{data:null,error:u}:{data:null,error:new be("Unexpected error in challenge",u)}}})}_verify(o){return p(this,arguments,function*({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})})}_authenticate(s,a){return p(this,arguments,function*({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!n)return{data:null,error:new gt("rpId is required for WebAuthn authentication")};try{if(!ng())return{data:null,error:new be("Browser does not support WebAuthn",null)};let{data:u,error:c}=yield this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!u)return{data:null,error:c};let{webauthn:l}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(u){return b(u)?{data:null,error:u}:{data:null,error:new be("Unexpected error in authenticate",u)}}})}_register(s,a){return p(this,arguments,function*({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!n)return{data:null,error:new gt("rpId is required for WebAuthn registration")};try{if(!ng())return{data:null,error:new be("Browser does not support WebAuthn",null)};let{data:u,error:c}=yield this._enroll({friendlyName:e});if(!u)return yield this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:c};let{data:l,error:d}=yield this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return l?this._verify({factorId:u.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:d}}catch(u){return b(u)?{data:null,error:u}:{data:null,error:new be("Unexpected error in register",u)}}})}};Jp();var $D={url:Cp,storageKey:Tp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function ag(t,e,n){return p(this,null,function*(){return yield n()})}var Hn={},VD=(()=>{class t{get jwks(){var n,r;return(r=(n=Hn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Hn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{cachedAt:n})}constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&te()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},$D),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Bn({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bi(i.fetch),this.lock=i.lock||ag,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:te()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=cc:this.lock=ag,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ki(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ui()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=uc(this.memoryStorage)),te()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pi}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var n;try{let r=$p(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),te()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Op(s)){let c=(n=s.details)===null||n===void 0?void 0:n.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){u==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return b(r)?{error:r}:{error:new be("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return p(this,null,function*(){var r,o,i;try{let s=yield I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:De}),{data:a,error:u}=s;if(u||!a)return{data:{user:null,session:null},error:u};let c=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(b(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return p(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield Xt(this.storage,this.storageKey)),s=yield I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:De})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=yield I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:De})}else throw new Kt("You must provide either an email or phone number and a password");let{data:a,error:u}=s;if(u||!a)return{data:{user:null,session:null},error:u};let c=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(b(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:u}=n;r=yield I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:sc})}else if("phone"in n){let{phone:s,password:a,options:u}=n;r=yield I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:sc})}else throw new Kt("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Xe}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(b(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return p(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return p(this,null,function*(){var r,o,i,s,a,u,c,l,d,h,f;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:y,wallet:v,statement:S,options:E}=n,_;if(te())if(typeof v=="object")_=v;else{let Ie=window;if("ethereum"in Ie&&typeof Ie.ethereum=="object"&&"request"in Ie.ethereum&&typeof Ie.ethereum.request=="function")_=Ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}let R=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),K=yield _.request({method:"eth_requestAccounts"}).then(Ie=>Ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let P=lc(K[0]),G=(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!G){let Ie=yield _.request({method:"eth_chainId"});G=Qp(Ie)}let Re={domain:R.host,address:P,statement:S,uri:R.href,version:"1",chainId:G,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=Xp(Re),m=yield _.request({method:"personal_sign",params:[Zp(g),P]})}try{let{data:y,error:v}=yield I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:De});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Xe}:(y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(b(y))return{data:{user:null,session:null},error:y};throw y}})}signInWithSolana(n){return p(this,null,function*(){var r,o,i,s,a,u,c,l,d,h,f,g;let m,y;if("message"in n)m=n.message,y=n.signature;else{let{chain:v,wallet:S,statement:E,options:_}=n,R;if(te())if(typeof S=="object")R=S;else{let P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))R=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=S}let K=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){let P=yield R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),E?{statement:E}:null)),G;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")G=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)G=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)m=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),y=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${K.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(i=(o=_?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);let P=yield R.signMessage(new TextEncoder().encode(m),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=P}}try{let{data:v,error:S}=yield I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:et(y)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:De});if(S)throw S;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Xe}:(v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:S})}catch(v){if(b(v))return{data:{user:null,session:null},error:v};throw v}})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield yt(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:De});if(yield tt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Xe}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(b(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return p(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,u=yield I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:De}),{data:c,error:l}=u;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xe}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(r){if(b(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:u,options:c}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=yield Xt(this.storage,this.storageKey));let{error:h}=yield I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:u,options:c}=n,{data:l,error:d}=yield I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Kt("You must provide either an email or phone number.")}catch(u){if(b(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(n){return p(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:u}=yield I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:De});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,l=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(b(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return p(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Xt(this.storage,this.storageKey)),yield I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Kp})}catch(s){if(b(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new ce;let{error:i}=yield I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(b(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield I(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:u}=yield I(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:u}}throw new Kt("You must provide either an email or phone number and a type")}catch(r){if(b(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<Li:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=yield yt(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=qi()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=Gp(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ue}):yield this._useSession(r=>p(this,null,function*(){var o,i,s;let{data:a,error:u}=r;if(u)throw u;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ce}:yield I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ue})}))}catch(r){if(b(r))return Np(r)&&(yield this._removeSession(),yield tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ce;let u=s.session,c=null,l=null;this.flowType==="pkce"&&n.email!=null&&([c,l]=yield Xt(this.storage,this.storageKey));let{data:d,error:h}=yield I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:l}),jwt:u.access_token,xform:Ue});if(h)throw h;return u.user=d.user,yield this._saveSession(u),yield this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}}))}catch(i){if(b(i))return{data:{user:null},error:i};throw i}})}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ce;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Hi(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:u,error:c}=yield this._callRefreshToken(n.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};s=u}else{let{data:u,error:c}=yield this._getUser(n.access_token);if(c)throw c;s={access_token:n.access_token,refresh_token:n.refresh_token,user:u.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(b(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!n){let{data:a,error:u}=r;if(u)throw u;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new ce;let{data:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(b(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return p(this,null,function*(){try{if(!te())throw new Yt("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Yt(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rr("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yt("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Rr("No code detected.");let{data:E,error:_}=yield this._exchangeCodeForSession(n.code);if(_)throw _;let R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:E.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:u,expires_at:c,token_type:l}=n;if(!s||!u||!a||!l)throw new Yt("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(u),f=d+h;c&&(f=parseInt(c));let g=f-d;g*1e3<=zt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:y,error:v}=yield this._getUser(s);if(v)throw v;let S={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:n.type},error:null}}catch(o){if(b(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return p(this,null,function*(){let r=yield yt(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:u}=yield this.admin.signOut(a,n);if(u&&!(Mp(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return n!=="others"&&(yield this._removeSession(),yield tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=jp(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield Xt(this.storage,this.storageKey,!0));try{return yield I(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(b(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(b(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,u,c,l,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=n.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield I(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return te()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(b(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}linkIdentityIdToken(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:u,token:c,access_token:l,nonce:d}=n,h=yield I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:u,id_token:c,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:De}),{data:f,error:g}=h;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Xe}:(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(i){if(b(i))return{data:{user:null,session:null},error:i};throw i}}))})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield I(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(b(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Bp(i=>p(this,null,function*(){return i>0&&(yield Up(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:De})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&$i(s)&&Date.now()+a-o<zt})}catch(o){if(this._debug(r,"error",o),b(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),te()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield yt(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield yt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield Zt(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:qi()}else if(i&&!i.user&&!i.user){let a=yield yt(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield tt(this.storage,this.storageKey+"-user"),yield Zt(this.storage,this.storageKey,i)):i.user=qi()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Li;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Li}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),$i(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:u}=yield this._getUser(i.access_token);!u&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,o;if(!n)throw new ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pr;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new ce;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),b(s)){let a={data:null,error:s};return $i(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(u=>p(this,null,function*(){try{yield u.callback(n,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield Zt(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=ic(i);yield Zt(this.storage,this.storageKey,s)}else{let i=ic(r);yield Zt(this.storage,this.storageKey,i)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield tt(this.storage,this.storageKey),yield tt(this.storage,this.storageKey+"-code-verifier"),yield tt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield tt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&te()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),zt);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/zt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zt}ms, refresh threshold is ${Fi} ticks`),i<=Fi&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Fr)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!te()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Xt(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(u.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield I(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(b(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let u=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:c,error:l}=yield I(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(n.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(b(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?ig(n.webauthn.credential_response):sg(n.webauthn.credential_response)})}:{code:n.code}),{data:u,error:c}=yield I(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})}))}catch(r){if(b(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=yield I(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:u}=a;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:rg(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:og(u.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(b(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){var n;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){var n,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Hi(o.access_token),a=null;s.aal&&(a=s.aal);let u=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:l},error:null}})}_getAuthorizationDetails(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?yield I(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new ce}}))}catch(r){if(b(r))return{data:null,error:r};throw r}})}_approveAuthorization(n,r){return p(this,null,function*(){try{return yield this._useSession(o=>p(this,null,function*(){let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new ce};let a=yield I(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return a.data&&a.data.redirect_url&&te()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(o){if(b(o))return{data:null,error:o};throw o}})}_denyAuthorization(n,r){return p(this,null,function*(){try{return yield this._useSession(o=>p(this,null,function*(){let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new ce};let a=yield I(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return a.data&&a.data.redirect_url&&te()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(o){if(b(o))return{data:null,error:o};throw o}})}fetchJwk(o){return p(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+Ap>s)return i;let{data:a,error:u}=yield I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(c=>c.kid===n),!i)?null:i})}getClaims(o){return p(this,arguments,function*(n,r={}){try{let i=n;if(!i){let{data:m,error:y}=yield this.getSession();if(y||!m.session)return{data:null,error:y};i=m.session.access_token}let{header:s,payload:a,signature:u,raw:{header:c,payload:l}}=Hi(i);r?.allowExpired||qp(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:m}=yield this.getUser(i);if(m)throw m;return{data:{claims:a,header:s,signature:u},error:null}}let h=Wp(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,u,Fp(`${c}.${l}`))))throw new Jt("Invalid JWT signature");return{data:{claims:a,header:s,signature:u},error:null}}catch(i){if(b(i))return{data:null,error:i};throw i}})}}return t.nextInstanceID=0,t})(),hc=VD;var UD=hc,pc=UD;var Yi=class extends pc{constructor(e){super(e)}};var Ji=class{constructor(e,n,r){var o,i,s;this.supabaseUrl=e,this.supabaseKey=n;let a=Ip(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:wp,realtime:Ep,auth:Object.assign(Object.assign({},_p),{storageKey:u}),global:vp},l=Dp(r??{},c);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=bp(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new np(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Mr(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new wr(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return p(this,null,function*(){var e,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:u,debug:c},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yi({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),l),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:u,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Tr(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ug=(t,e,n)=>new Ji(t,e,n);function BD(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}BD()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var gc={production:!1,supabaseUrl:"https://REPLACE_WITH_DEV_PROJECT.supabase.co",supabaseAnonKey:"REPLACE_WITH_DEV_ANON_KEY"};var FP=(()=>{class t{constructor(){this.supabase=ug(gc.supabaseUrl||"https://placeholder.supabase.co",gc.supabaseAnonKey||"placeholder-key")}get client(){return this.supabase}channel(n){return this.supabase.channel(n)}from(n){return this.supabase.from(n)}rpc(n,r){return this.supabase.rpc(n,r)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{Q as a,mg as b,O as c,us as d,cs as e,it as f,Gn as g,Ct as h,nt as i,fs as j,jg as k,$g as l,Tt as m,Pe as n,Fg as o,He as p,hs as q,hn as r,Vg as s,Ug as t,ps as u,Kg as v,Kn as w,Jg as x,Zg as y,cl as z,Xg as A,em as B,Yn as C,gs as D,tm as E,nm as F,im as G,sm as H,dl as I,ms as J,am as K,um as L,cm as M,lm as N,dm as O,fm as P,hm as Q,F as R,rd as S,W as T,id as U,QA as V,q as W,k as X,ne as Y,$ as Z,jm as _,$m as $,Zn as aa,ut as ba,ZA as ca,wd as da,Jo as ea,uy as fa,xd as ga,ct as ha,_y as ia,kd as ja,XA as ka,eM as la,tM as ma,nM as na,lv as oa,dr as pa,Lt as qa,qt as ra,xt as sa,rM as ta,oM as ua,bv as va,Qa as wa,iM as xa,sM as ya,aM as za,uM as Aa,Po as Ba,cM as Ca,ve as Da,lM as Ea,$t as Fa,jo as Ga,ca as Ha,fu as Ia,hu as Ja,we as Ka,s_ as La,An as Ma,k_ as Na,V_ as Oa,_a as Pa,U_ as Qa,ih as Ra,G_ as Sa,Y_ as Ta,uE as Ua,hh as Va,cE as Wa,pM as Xa,gM as Ya,Eh as Za,bh as _a,wE as $a,bE as ab,DE as bb,mM as cb,ME as db,yM as eb,vM as fb,wM as gb,_M as hb,EM as ib,bM as jb,DM as kb,IM as lb,CM as mb,PE as nb,Ih as ob,FE as pb,LE as qb,jE as rb,TM as sb,$E as tb,SM as ub,xM as vb,AM as wb,MM as xb,NM as yb,OM as zb,RM as Ab,kM as Bb,PM as Cb,FM as Db,LM as Eb,jM as Fb,vu as Gb,QE as Hb,ZE as Ib,Ah as Jb,$M as Kb,Nh as Lb,VM as Mb,yb as Nb,UM as Ob,BM as Pb,_u as Qb,dN as Rb,Rh as Sb,xu as Tb,fN as Ub,gi as Vb,wb as Wb,hN as Xb,_b as Yb,pN as Zb,gN as _b,mN as $b,yN as ac,vN as bc,wN as cc,_N as dc,Lb as ec,EN as fc,bN as gc,Vh as hc,FP as ic};
