import{T as a,g as r}from"./chunk-DEIGHZUX.js";import{a as i,b as n}from"./chunk-P2VZOJAX.js";var g="pick-list-settings",u=(()=>{class s{constructor(){this.settingsSubject=new r(this.loadSettings()),this.settings$=this.settingsSubject.asObservable()}loadSettings(){try{let t=localStorage.getItem(g);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load settings:",t)}return{user_name:"",theme:"system"}}saveSettings(t){try{localStorage.setItem(g,JSON.stringify(t)),this.settingsSubject.next(t)}catch(e){console.error("Failed to save settings:",e)}}getSettings(){return this.settingsSubject.getValue()}getUserName(){return this.settingsSubject.getValue().user_name}setUserName(t){let e=this.getSettings();this.saveSettings(n(i({},e),{user_name:t}))}getTheme(){return this.settingsSubject.getValue().theme}setTheme(t){let e=this.getSettings();this.saveSettings(n(i({},e),{theme:t})),this.applyTheme(t)}applyTheme(t){let e=window.matchMedia("(prefers-color-scheme: dark)").matches,c=t==="system"?e?"dark":"light":t;document.documentElement.setAttribute("data-bs-theme",c)}initializeTheme(){this.applyTheme(this.getTheme()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.getTheme()==="system"&&this.applyTheme("system")})}isTagPrintingEnabled(){return this.settingsSubject.getValue().tagPrintingEnabled===!0}setTagPrintingEnabled(t){let e=this.getSettings();this.saveSettings(n(i({},e),{tagPrintingEnabled:t}))}isAuthenticated(){return this.settingsSubject.getValue().isAuthenticated===!0}authenticate(){let t=this.getSettings();this.saveSettings(n(i({},t),{isAuthenticated:!0}))}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{u as a};
