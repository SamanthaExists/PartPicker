import{T as h}from"./chunk-DEIGHZUX.js";import{a as d,b as p}from"./chunk-P2VZOJAX.js";var S=(()=>{class u{constructor(){this.orders=[],this.tools=[],this.lineItems=[],this.picks=[],this.issues=[],this.bomTemplates=[],this.bomTemplateItems=[],this.parts=[],this.partRelationships=[],this.activityLog=[],this.partIssues=[],this.generateDemoData()}generateDemoData(){this.generateParts(),this.generateOrders(),this.generatePicks(),this.generateIssues(),this.generateBOMTemplates(),this.generateActivityLog(),this.generatePartIssues()}generateParts(){let t=[{part_number:"BRG-4520",description:"Bearing Assembly - 45mm",classification:"purchased",location:"A-12-3"},{part_number:"MTR-1100",description:"Drive Motor 1100W",classification:"purchased",location:"B-05-1"},{part_number:"HSG-2200",description:"Housing Unit - Aluminum",classification:"manufactured",location:"C-22-4"},{part_number:"SFT-0850",description:"Drive Shaft - Hardened Steel",classification:"manufactured",location:"A-08-2"},{part_number:"GRB-3300",description:"Gearbox Assembly",classification:"purchased",location:"B-15-3",is_assembly:!0},{part_number:"PLT-1001",description:"Control Plate - Stainless",classification:"manufactured",location:"C-03-1"},{part_number:"PCB-5500",description:"Main Control Board",classification:"purchased",location:"D-01-5"},{part_number:"CBL-2220",description:"Power Cable Assembly 12AWG",classification:"purchased",location:"A-18-1"},{part_number:"FLT-0770",description:"Air Filter Element",classification:"purchased",location:"B-22-2"},{part_number:"VLV-4100",description:"Pressure Relief Valve",classification:"purchased",location:"C-11-4"},{part_number:"GSK-0055",description:"Gasket Kit - NBR",classification:"purchased",location:"A-25-5"},{part_number:"BLT-M12",description:"Bolt M12x40 - Grade 8",classification:"purchased",location:"D-15-2"},{part_number:"NUT-M12",description:"Locknut M12 - Nylon Insert",classification:"purchased",location:"D-15-3"},{part_number:"WSH-M12",description:"Washer M12 - Hardened",classification:"purchased",location:"D-15-4"},{part_number:"SNS-TEMP",description:"Temperature Sensor PT100",classification:"purchased",location:"D-08-1"},{part_number:"SNS-PRES",description:"Pressure Sensor 0-300PSI",classification:"purchased",location:"D-08-2"},{part_number:"PMP-7700",description:"Hydraulic Pump Assembly",classification:"purchased",location:"B-12-1",is_assembly:!0},{part_number:"TRN-5500",description:"Transformer 480V-120V",classification:"purchased",location:"C-19-3"},{part_number:"FAN-2400",description:"Cooling Fan 24VDC",classification:"purchased",location:"B-08-4"},{part_number:"CVR-TOP",description:"Top Cover - Powder Coated",classification:"manufactured",location:"C-05-2"},{part_number:"CVR-BTM",description:"Bottom Cover - Powder Coated",classification:"manufactured",location:"C-05-3"},{part_number:"MNT-BRK",description:"Mounting Bracket - Steel",classification:"manufactured",location:"A-14-2"},{part_number:"SLD-PLT",description:"Slide Plate Assembly",classification:"manufactured",location:"B-19-1",is_assembly:!0}];this.parts=t.map((e,i)=>({id:`part-${i+1}`,part_number:e.part_number,description:e.description,classification_type:e.classification,is_assembly:e.is_assembly||!1,is_modified:!1,default_location:e.location,base_part_id:null,notes:null,created_at:new Date(2024,0,15+i).toISOString(),updated_at:new Date(2024,0,15+i).toISOString()})),this.partRelationships=[{id:"rel-1",parent_part_id:"part-5",child_part_id:"part-1",quantity:2,reference_designator:"BRG1, BRG2",notes:null,sort_order:1,created_at:new Date().toISOString()},{id:"rel-2",parent_part_id:"part-5",child_part_id:"part-4",quantity:1,reference_designator:"SFT1",notes:null,sort_order:2,created_at:new Date().toISOString()},{id:"rel-3",parent_part_id:"part-17",child_part_id:"part-2",quantity:1,reference_designator:"MTR1",notes:null,sort_order:1,created_at:new Date().toISOString()},{id:"rel-4",parent_part_id:"part-17",child_part_id:"part-10",quantity:1,reference_designator:"VLV1",notes:null,sort_order:2,created_at:new Date().toISOString()}]}generateOrders(){let t=new Date,e=[{so_number:"24-1847",po_number:"PO-2024-0892",customer_name:"Acme Manufacturing",tool_model:"AT-500",quantity:2,order_date:new Date(2024,10,15).toISOString().split("T")[0],due_date:new Date(t.getTime()-2*24*60*60*1e3).toISOString().split("T")[0],status:"active"},{so_number:"24-1923",po_number:"PO-2024-1045",customer_name:"Precision Tools Inc",tool_model:"AT-750",quantity:3,order_date:new Date(2024,10,28).toISOString().split("T")[0],due_date:new Date(t.getTime()+3*24*60*60*1e3).toISOString().split("T")[0],status:"active"},{so_number:"24-1856",po_number:"PO-2024-0923",customer_name:"Gulf Coast Drilling",tool_model:"AT-1000",quantity:4,order_date:new Date(2024,10,20).toISOString().split("T")[0],due_date:new Date(2024,11,15).toISOString().split("T")[0],status:"complete"},{so_number:"25-0012",po_number:"PO-2025-0001",customer_name:"Industrial Solutions LLC",tool_model:"AT-500",quantity:1,order_date:new Date(2025,0,5).toISOString().split("T")[0],due_date:new Date(t.getTime()+1*24*60*60*1e3).toISOString().split("T")[0],status:"active"},{so_number:"25-0045",po_number:null,customer_name:"Tech Innovations Corp",tool_model:"AT-750",quantity:2,order_date:new Date(2025,0,15).toISOString().split("T")[0],due_date:new Date(t.getTime()+10*24*60*60*1e3).toISOString().split("T")[0],status:"active"},{so_number:"24-1799",po_number:"PO-2024-0801",customer_name:"Mountain Equipment Co",tool_model:"AT-500",quantity:3,order_date:new Date(2024,9,10).toISOString().split("T")[0],due_date:new Date(2024,10,5).toISOString().split("T")[0],status:"cancelled"}];this.orders=e.map((i,s)=>({id:`order-${s+1}`,so_number:i.so_number,po_number:i.po_number,customer_name:i.customer_name,tool_model:i.tool_model,quantity:i.quantity,order_date:i.order_date,due_date:i.due_date,estimated_ship_date:null,status:i.status,notes:null,created_at:new Date(2024,10,15+s).toISOString(),updated_at:new Date(2024,10,15+s).toISOString()})),this.orders.forEach((i,s)=>{if(i.status==="cancelled")return;let l=i.quantity||1;for(let n=0;n<l;n++){let c=`${n+1}`,r=`${i.tool_model}-${i.so_number.replace("-","")}-${String(n+1).padStart(3,"0")}`;this.tools.push({id:`tool-${this.tools.length+1}`,order_id:i.id,tool_number:c,serial_number:r,tool_model:i.tool_model,status:i.status==="complete"?"complete":s===0&&n===0?"in-progress":"pending",created_at:i.created_at})}}),this.orders.forEach((i,s)=>{if(i.status==="cancelled")return;let l=this.tools.filter(a=>a.order_id===i.id),n=i.status==="complete",c=s===0,r=s===3,o=[{part:this.parts[0],qty:2},{part:this.parts[1],qty:1},{part:this.parts[2],qty:1},{part:this.parts[3],qty:1},{part:this.parts[6],qty:1},{part:this.parts[7],qty:2}];s%2===0&&(o.push({part:this.parts[4],qty:1}),o.push({part:this.parts[8],qty:2})),s%3===0&&(o.push({part:this.parts[9],qty:1}),o.push({part:this.parts[10],qty:1})),o.forEach(({part:a,qty:_})=>{let g=`lineitem-${this.lineItems.length+1}`,m=_*l.length;this.lineItems.push({id:g,order_id:i.id,part_number:a.part_number,description:a.description,location:a.default_location,qty_per_unit:_,total_qty_needed:m,qty_available:n?m:Math.max(0,m-Math.floor(Math.random()*3)),qty_on_order:null,tool_ids:l.map(f=>f.id),assembly_group:null,part_id:a.id,created_at:i.created_at})})})}generatePicks(){let t=["Mike T.","Sarah K.","Dave R.","Lisa M.","Tom B."];this.lineItems.forEach(e=>{let i=this.orders.find(r=>r.id===e.order_id);if(!i)return;let s=this.tools.filter(r=>r.order_id===i.id),l=i.status==="complete",n=i.so_number==="24-1847",c=i.so_number==="25-0012";s.forEach((r,o)=>{let a=e.qty_per_unit;l?this.picks.push({id:`pick-${this.picks.length+1}`,line_item_id:e.id,tool_id:r.id,qty_picked:a,picked_by:t[Math.floor(Math.random()*t.length)],notes:null,picked_at:new Date(i.created_at).toISOString(),undone_at:null,undone_by:null}):n?o===0&&Math.random()>.4&&this.picks.push({id:`pick-${this.picks.length+1}`,line_item_id:e.id,tool_id:r.id,qty_picked:a,picked_by:t[Math.floor(Math.random()*t.length)],notes:null,picked_at:new Date(Date.now()-Math.random()*48*60*60*1e3).toISOString(),undone_at:null,undone_by:null}):c&&o===0?Math.random()>.9||this.picks.push({id:`pick-${this.picks.length+1}`,line_item_id:e.id,tool_id:r.id,qty_picked:a,picked_by:t[Math.floor(Math.random()*t.length)],notes:null,picked_at:new Date(Date.now()-Math.random()*24*60*60*1e3).toISOString(),undone_at:null,undone_by:null}):Math.random()>.5&&this.picks.push({id:`pick-${this.picks.length+1}`,line_item_id:e.id,tool_id:r.id,qty_picked:a,picked_by:t[Math.floor(Math.random()*t.length)],notes:null,picked_at:new Date(Date.now()-Math.random()*72*60*60*1e3).toISOString(),undone_at:null,undone_by:null})})})}generateIssues(){let t=this.orders.find(e=>e.so_number==="24-1847");if(t){let e=this.lineItems.filter(i=>i.order_id===t.id);e.length>0&&this.issues.push({id:"issue-1",line_item_id:e[0].id,order_id:t.id,issue_type:"out_of_stock",description:"Bearing assembly not in stock, ordered from supplier",reported_by:"Mike T.",status:"open",created_at:new Date(Date.now()-24*60*60*1e3).toISOString(),resolved_at:null,resolved_by:null,resolution_notes:null}),e.length>1&&this.issues.push({id:"issue-2",line_item_id:e[1].id,order_id:t.id,issue_type:"wrong_part",description:"Wrong motor model received, returning to supplier",reported_by:"Sarah K.",status:"resolved",created_at:new Date(Date.now()-48*60*60*1e3).toISOString(),resolved_at:new Date(Date.now()-12*60*60*1e3).toISOString(),resolved_by:"Dave R.",resolution_notes:"Correct motor received and installed"})}}generateBOMTemplates(){this.bomTemplates=[{id:"template-1",name:"AT-500 Standard",tool_model:"AT-500",template_type:"bom",created_at:new Date(2024,0,10).toISOString(),updated_at:new Date(2024,0,10).toISOString()},{id:"template-2",name:"AT-750 Standard",tool_model:"AT-750",template_type:"bom",created_at:new Date(2024,0,12).toISOString(),updated_at:new Date(2024,0,12).toISOString()},{id:"template-3",name:"AT-1000 Standard",tool_model:"AT-1000",template_type:"bom",created_at:new Date(2024,0,15).toISOString(),updated_at:new Date(2024,0,15).toISOString()}],[0,1,2,3,6,7].forEach(t=>{let e=this.parts[t];this.bomTemplateItems.push({id:`template-item-${this.bomTemplateItems.length+1}`,template_id:"template-1",part_number:e.part_number,description:e.description,location:e.default_location,qty_per_unit:t===0||t===7?2:1,assembly_group:null})}),[0,1,2,3,4,6,7,8].forEach(t=>{let e=this.parts[t];this.bomTemplateItems.push({id:`template-item-${this.bomTemplateItems.length+1}`,template_id:"template-2",part_number:e.part_number,description:e.description,location:e.default_location,qty_per_unit:t===0||t===7||t===8?2:1,assembly_group:null})})}generateActivityLog(){let t=Date.now();this.activityLog=[{id:"activity-1",type:"order_imported",order_id:this.orders[4]?.id||"order-5",so_number:"25-0045",part_number:null,description:null,performed_by:"System",details:{tool_count:2,line_item_count:8},created_at:new Date(t-2*60*60*1e3).toISOString()},{id:"activity-2",type:"part_added",order_id:this.orders[1]?.id||"order-2",so_number:"24-1923",part_number:"FAN-2400",description:"Added cooling fan to order",performed_by:"Sarah K.",details:null,created_at:new Date(t-5*60*60*1e3).toISOString()},{id:"activity-3",type:"part_removed",order_id:this.orders[0]?.id||"order-1",so_number:"24-1847",part_number:"TRN-5500",description:"Removed transformer - not needed for this config",performed_by:"Mike T.",details:null,created_at:new Date(t-8*60*60*1e3).toISOString()}]}generatePartIssues(){this.partIssues=[{id:"part-issue-1",part_number:"BRG-4520",issue_type:"inventory_discrepancy",description:"Physical count shows 15 units but system shows 22",reported_by:"Lisa M.",status:"open",created_at:new Date(Date.now()-36*60*60*1e3).toISOString(),resolved_at:null,resolved_by:null,resolution_notes:null},{id:"part-issue-2",part_number:"HSG-2200",issue_type:"wrong_location",description:"Found in C-22-5 instead of C-22-4",reported_by:"Tom B.",status:"resolved",created_at:new Date(Date.now()-72*60*60*1e3).toISOString(),resolved_at:new Date(Date.now()-24*60*60*1e3).toISOString(),resolved_by:"Dave R.",resolution_notes:"Moved to correct location and updated labels"}]}getOrders(){return[...this.orders]}getTools(t){return t?this.tools.filter(e=>e.order_id===t):[...this.tools]}getLineItems(t){return t?this.lineItems.filter(e=>e.order_id===t):[...this.lineItems]}getPicks(t,e){let i=[...this.picks];return t&&(i=i.filter(s=>s.line_item_id===t)),e&&(i=i.filter(s=>s.tool_id===e)),i}getIssues(t){return t?this.issues.filter(e=>e.order_id===t):[...this.issues]}getBOMTemplates(){return[...this.bomTemplates]}getBOMTemplateItems(t){return this.bomTemplateItems.filter(e=>e.template_id===t)}getParts(){return[...this.parts]}getPartRelationships(t){return t?this.partRelationships.filter(e=>e.parent_part_id===t||e.child_part_id===t):[...this.partRelationships]}getActivityLog(t){return t?this.activityLog.filter(e=>e.order_id===t):[...this.activityLog]}getPartIssues(){return[...this.partIssues]}addPick(t){let e=p(d({},t),{id:`pick-${this.picks.length+1}`});return this.picks.push(e),e}updateOrder(t,e){let i=this.orders.findIndex(s=>s.id===t);return i===-1?null:(this.orders[i]=p(d(d({},this.orders[i]),e),{updated_at:new Date().toISOString()}),this.orders[i])}addIssue(t){let e=p(d({},t),{id:`issue-${this.issues.length+1}`});return this.issues.push(e),e}updateIssue(t,e){let i=this.issues.findIndex(s=>s.id===t);return i===-1?null:(this.issues[i]=d(d({},this.issues[i]),e),this.issues[i])}static{this.\u0275fac=function(e){return new(e||u)}}static{this.\u0275prov=h({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();export{S as a};
